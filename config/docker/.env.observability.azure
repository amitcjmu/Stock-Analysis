# Grafana Observability Stack - Azure Configuration
# Copy these settings to .env.observability when deploying to Azure

# === Azure Grafana Subdomain Configuration ===
# Grafana accessible at https://aiforceassessgrafana.cloudsmarthcl.com/
GF_SERVER_ROOT_URL=https://aiforceassessgrafana.cloudsmarthcl.com/
GF_SERVER_SERVE_FROM_SUB_PATH=false
GF_SERVER_PROTOCOL=https
GF_SERVER_DOMAIN=aiforceassessgrafana.cloudsmarthcl.com

# === Security Settings ===
# Allow embedding for future Phase 2 (embedded dashboards in frontend)
GF_SECURITY_ALLOW_EMBEDDING=true
GF_SECURITY_COOKIE_SAMESITE=none
GF_SECURITY_COOKIE_SECURE=true

# Content Security Policy - allow embedding from main app
GF_SECURITY_CONTENT_SECURITY_POLICY_TEMPLATE=script-src 'self' 'unsafe-eval' 'unsafe-inline'; frame-ancestors 'self' https://aiforceassessgrafana.cloudsmarthcl.com https://www.aiforceassess.com

# === Admin Credentials ===
# Set strong admin password for production
GRAFANA_ADMIN_PASSWORD=<your-strong-password-here>

# === PostgreSQL Datasource ===
POSTGRES_GRAFANA_PASSWORD=<your-postgres-password-here>

# === Data Retention (optional overrides) ===
LOKI_RETENTION_DAYS=14
TEMPO_RETENTION_DAYS=7
PROMETHEUS_RETENTION_DAYS=14

# === Azure AD SSO (Phase 3 - Optional) ===
# AZURE_AD_ENABLED=true
# AZURE_AD_CLIENT_ID=<your-client-id>
# AZURE_AD_CLIENT_SECRET=<your-client-secret>
# AZURE_AD_AUTH_URL=https://login.microsoftonline.com/<tenant-id>/oauth2/v2.0/authorize
# AZURE_AD_TOKEN_URL=https://login.microsoftonline.com/<tenant-id>/oauth2/v2.0/token
