/**
 * Performance and Feature Settings Types
 * 
 * Type definitions for performance optimization settings,
 * feature management, experiments, and feature toggles.
 * 
 * Generated by CC modularization
 */

export interface PerformanceSettings {
  caching: CacheSettings;
  compression: CompressionSettings;
  minification: boolean;
  lazyLoading: boolean;
  cdnEnabled: boolean;
  cdnUrl?: string;
  optimizeImages: boolean;
  databaseOptimization: DatabaseOptimization;
}

export interface CacheSettings {
  enabled: boolean;
  provider: 'memory' | 'redis' | 'memcached';
  ttl: number;
  maxSize: number;
  compression: boolean;
}

export interface CompressionSettings {
  enabled: boolean;
  algorithm: 'gzip' | 'brotli' | 'deflate';
  level: number;
  threshold: number;
}

export interface DatabaseOptimization {
  enabled: boolean;
  indexOptimization: boolean;
  queryOptimization: boolean;
  connectionPooling: boolean;
  maxConnections: number;
}

export interface FeatureSettings {
  features: Feature[];
  experiments: Experiment[];
  toggles: FeatureToggle[];
  rollouts: FeatureRollout[];
}

export interface Feature {
  id: string;
  name: string;
  description?: string;
  enabled: boolean;
  dependencies?: string[];
  configuration?: Record<string, unknown>;
}

export interface Experiment {
  id: string;
  name: string;
  description?: string;
  active: boolean;
  variants: ExperimentVariant[];
  allocation: number;
  startDate?: string;
  endDate?: string;
}

export interface ExperimentVariant {
  id: string;
  name: string;
  allocation: number;
  configuration?: Record<string, unknown>;
}

export interface FeatureToggle {
  id: string;
  name: string;
  enabled: boolean;
  conditions?: ToggleCondition[];
}

export interface ToggleCondition {
  type: 'user' | 'role' | 'percentage' | 'custom';
  value: string | number | string[] | Record<string, unknown>;
  operator?: 'equals' | 'in' | 'greater_than' | 'less_than';
}

export interface FeatureRollout {
  id: string;
  featureId: string;
  percentage: number;
  targetUsers?: string[];
  targetRoles?: string[];
  startDate?: string;
  endDate?: string;
}