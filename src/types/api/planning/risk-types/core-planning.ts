/**
 * Core Risk Planning Types
 *
 * Fundamental data structures for risk planning including plan configuration,
 * scope definition, methodology selection, and core risk planning results.
 *
 * Generated by CC - Claude Code
 */

import type { AuditableMetadata } from '../../../shared/metadata-types';
import type {
  RiskEffectiveness,
  RiskRecommendation,
  RiskAlert,
  RiskAssumption,
  RiskConstraint
} from './utilities';

import type {
  RiskStakeholder,
  RiskBoundary,
  RiskStandard,
  RiskTechnique,
  RiskTool,
  RiskAssessmentFrequency,
  RiskCriteria,
  RiskScale
} from './utilities';

import type {
  RiskSubcategory,
  CategoryTolerance,
  ToleranceLevel,
  ImpactTolerance,
  ProbabilityTolerance,
  ToleranceThreshold,
  ToleranceTrigger,
  ToleranceReview,
  AppetiteBoundary,
  AppetiteConstraint,
  AppetitePreference,
  RiskTradeOff
} from './utilities';

import type {
  GovernanceStructure,
  RiskCommittee,
  GovernanceReporting,
  GovernanceOversight,
  GovernanceCompliance,
  GovernanceAccountability,
  ReportingSchedule,
  RiskMilestone,
  RiskDeadline,
  EscalationTimeline,
  BudgetReserve
} from './governance';

// Core Data Types
export interface RiskPlanData {
  id: string;
  name: string;
  description: string;
  scope: RiskScope;
  methodology: RiskMethodology;
  categories: RiskCategory[];
  tolerance: RiskTolerance;
  appetite: RiskAppetite;
  framework: RiskFramework;
  governance: RiskGovernance;
  timeline: RiskTimeline;
  budget: RiskBudget;
  assumptions: RiskAssumption[];
  constraints: RiskConstraint[];
  metadata: AuditableMetadata;
}

export interface RiskPlanResult {
  id: string;
  riskPlanData: RiskPlanData;
  overallRiskScore: number;
  riskLevel: 'low' | 'medium' | 'high' | 'critical';
  totalRisks: number;
  highRisks: number;
  mediumRisks: number;
  lowRisks: number;
  mitigatedRisks: number;
  residualRisk: number;
  effectiveness: RiskEffectiveness;
  recommendations: RiskRecommendation[];
  alerts: RiskAlert[];
}

export interface RiskScope {
  domains: RiskDomain[];
  phases: string[];
  workstreams: string[];
  stakeholders: RiskStakeholder[];
  geography: string[];
  timeframe: {
    start: string;
    end: string;
  };
  exclusions: string[];
  boundaries: RiskBoundary[];
}

export interface RiskMethodology {
  approach: 'qualitative' | 'quantitative' | 'semi_quantitative' | 'hybrid';
  standards: RiskStandard[];
  techniques: RiskTechnique[];
  tools: RiskTool[];
  frequency: RiskAssessmentFrequency;
  criteria: RiskCriteria;
  scales: RiskScale[];
}

export interface RiskCategory {
  id: string;
  name: string;
  description: string;
  type: 'strategic' | 'operational' | 'financial' | 'compliance' | 'technical' | 'external';
  subcategories: RiskSubcategory[];
  weight: number;
  tolerance: CategoryTolerance;
  owner: string;
  escalation: EscalationPath[];
}

export interface RiskTolerance {
  overall: ToleranceLevel;
  byCategory: CategoryTolerance[];
  byImpact: ImpactTolerance[];
  byProbability: ProbabilityTolerance[];
  thresholds: ToleranceThreshold[];
  triggers: ToleranceTrigger[];
  reviews: ToleranceReview[];
}

export interface RiskAppetite {
  level: 'risk_averse' | 'risk_neutral' | 'risk_seeking' | 'risk_optimized';
  description: string;
  boundaries: AppetiteBoundary[];
  constraints: AppetiteConstraint[];
  preferences: AppetitePreference[];
  trade_offs: RiskTradeOff[];
}

export interface RiskFramework {
  name: string;
  version: string;
  standards: string[];
  processes: FrameworkProcess[];
  roles: FrameworkRole[];
  artifacts: FrameworkArtifact[];
  integration: FrameworkIntegration[];
}

export interface RiskGovernance {
  structure: GovernanceStructure;
  committees: RiskCommittee[];
  reporting: GovernanceReporting;
  oversight: GovernanceOversight;
  compliance: GovernanceCompliance;
  accountability: GovernanceAccountability;
}

export interface RiskTimeline {
  assessmentCycle: string;
  reviewFrequency: string;
  reportingSchedule: ReportingSchedule[];
  milestones: RiskMilestone[];
  deadlines: RiskDeadline[];
  escalationTimelines: EscalationTimeline[];
}

export interface RiskBudget {
  totalBudget: number;
  allocated: number;
  contingency: number;
  mitigation: number;
  monitoring: number;
  governance: number;
  currency: string;
  reserves: BudgetReserve[];
}

// Supporting Types
export interface RiskDomain {
  name: string;
  description: string;
  scope: string[];
  boundaries: string[];
  stakeholders: string[];
  expertise: string[];
}

export interface EscalationPath {
  level: number;
  recipient: string;
  trigger: string;
  timeframe: string;
  action: string;
}

export interface FrameworkProcess {
  name: string;
  description: string;
  inputs: string[];
  outputs: string[];
  activities: string[];
  roles: string[];
}

export interface FrameworkRole {
  role: string;
  responsibilities: string[];
  authorities: string[];
  competencies: string[];
  reporting: string;
}

export interface FrameworkArtifact {
  artifact: string;
  type: string;
  purpose: string;
  template: string;
  frequency: string;
}

export interface FrameworkIntegration {
  system: string;
  interface: string;
  data: string[];
  frequency: string;
  direction: 'input' | 'output' | 'bidirectional';
}
