/**
 * WBS Work Packages and Deliverables Types
 *
 * Type definitions for work breakdown structure elements, scope management,
 * quality assurance, status tracking, ownership, and governance.
 *
 * Generated by CC - Claude Code
 */

export interface WBSElement {
  id: string;
  code: string;
  name: string;
  description: string;
  level: number;
  parent: string;
  children: string[];
  type: 'workstream' | 'activity' | 'task' | 'deliverable' | 'milestone';
  scope: ElementScope;
  effort: ElementEffort;
  duration: ElementDuration;
  resources: ElementResource[];
  dependencies: ElementDependency[];
  risks: ElementRisk[];
  quality: ElementQuality;
  status: ElementStatus;
  ownership: ElementOwnership;
  governance: ElementGovernance;
}

export interface ElementScope {
  boundaries: string[];
  deliverables: string[];
  activities: string[];
  exclusions: string[];
  assumptions: string[];
  constraints: string[];
  interfaces: ScopeInterface[];
}

export interface ScopeInterface {
  interface: string;
  type: 'input' | 'output' | 'coordination' | 'dependency';
  description: string;
  counterpart: string;
  frequency: string;
  protocol: string;
}

export interface ElementEffort {
  estimate: number;
  unit: 'hours' | 'days' | 'weeks' | 'months' | 'story_points';
  confidence: number;
  method: string;
  assumptions: string[];
  risks: string[];
  validation: EffortValidation;
}

export interface EffortValidation {
  basis: string[];
  comparison: string[];
  expert_review: string;
  historical_data: string;
  adjustment: string;
}

export interface ElementDuration {
  estimate: number;
  unit: 'hours' | 'days' | 'weeks' | 'months';
  confidence: number;
  dependencies: string[];
  constraints: string[];
  buffers: DurationBuffer[];
  optimization: DurationOptimization;
}

export interface DurationBuffer {
  type: 'schedule' | 'resource' | 'scope' | 'quality';
  amount: number;
  rationale: string;
  conditions: string[];
  governance: string;
}

export interface DurationOptimization {
  opportunities: string[];
  techniques: string[];
  constraints: string[];
  trade_offs: string[];
  impact: string;
}

export interface ElementResource {
  resourceId: string;
  type: 'human' | 'equipment' | 'material' | 'facility' | 'service';
  role: string;
  allocation: number;
  duration: number;
  skills: string[];
  availability: ResourceAvailability;
  cost: ResourceCost;
  performance: ResourcePerformance;
}

export interface ResourceAvailability {
  total: number;
  allocated: number;
  available: number;
  conflicts: AvailabilityConflict[];
  constraints: string[];
}

export interface AvailabilityConflict {
  conflict: string;
  period: string;
  impact: string;
  resolution: string;
  priority: string;
}

export interface ResourceCost {
  rate: number;
  total: number;
  currency: string;
  model: 'hourly' | 'daily' | 'monthly' | 'fixed' | 'variable';
  escalation: number;
}

export interface ResourcePerformance {
  productivity: number;
  quality: number;
  efficiency: number;
  utilization: number;
  trends: PerformanceTrend[];
}

export interface PerformanceTrend {
  metric: string;
  period: string;
  value: number;
  direction: 'improving' | 'stable' | 'declining';
}

export interface ElementDependency {
  dependencyId: string;
  type: 'finish_to_start' | 'start_to_start' | 'finish_to_finish' | 'start_to_finish';
  description: string;
  predecessor: string;
  successor: string;
  lag: number;
  lead: number;
  criticality: 'low' | 'medium' | 'high' | 'critical';
  impact: string;
  mitigation: string;
  status: DependencyStatus;
}

export interface DependencyStatus {
  current: 'pending' | 'active' | 'satisfied' | 'blocked' | 'cancelled';
  health: 'green' | 'amber' | 'red';
  issues: string[];
  actions: string[];
  escalation: string;
}

export interface ElementRisk {
  riskId: string;
  category: 'technical' | 'resource' | 'schedule' | 'scope' | 'quality' | 'external';
  description: string;
  probability: number;
  impact: number;
  riskScore: number;
  mitigation: string;
  contingency: string;
  owner: string;
  status: 'open' | 'mitigated' | 'closed' | 'realized';
  monitoring: RiskMonitoring;
}

export interface RiskMonitoring {
  indicators: string[];
  thresholds: RiskThreshold[];
  frequency: string;
  methods: string[];
  escalation: string;
}

export interface RiskThreshold {
  indicator: string;
  threshold: number;
  action: string;
  escalation: string;
}

export interface ElementQuality {
  standards: string[];
  criteria: string[];
  reviews: string[];
  testing: string[];
  acceptance: QualityAcceptance;
  assurance: QualityAssurance;
  metrics: QualityMetric[];
}

export interface QualityAcceptance {
  criteria: string[];
  methods: string[];
  stakeholders: string[];
  process: string;
  documentation: string;
}

export interface QualityAssurance {
  framework: string;
  processes: string[];
  controls: string[];
  audits: string[];
  improvement: string;
}

export interface QualityMetric {
  metric: string;
  target: number;
  threshold: number;
  measurement: string;
  frequency: string;
}

export interface ElementStatus {
  current: 'not_started' | 'in_progress' | 'completed' | 'on_hold' | 'cancelled';
  progress: number;
  health: 'green' | 'amber' | 'red';
  issues: string[];
  milestones: ElementMilestone[];
  forecast: StatusForecast;
}

export interface ElementMilestone {
  milestone: string;
  date: string;
  status: 'pending' | 'achieved' | 'missed' | 'at_risk';
  criteria: string[];
  evidence: string;
}

export interface StatusForecast {
  completion: string;
  confidence: number;
  risks: string[];
  assumptions: string[];
  scenarios: ForecastScenario[];
}

export interface ForecastScenario {
  scenario: string;
  probability: number;
  completion: string;
  impact: string;
}

export interface ElementOwnership {
  owner: string;
  accountable: string;
  responsible: string[];
  consulted: string[];
  informed: string[];
  decision_rights: string[];
  escalation: string;
}

export interface ElementGovernance {
  oversight: string;
  reporting: string;
  approval: string;
  change_control: string;
  quality_gates: string[];
  compliance: string;
}
