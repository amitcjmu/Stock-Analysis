/**
 * Workstream Performance Types
 * 
 * Type definitions for workstream performance tracking and analysis.
 * 
 * Generated by CC - Claude Code
 */

import type { Workstream } from './core';
import type { WorkstreamRisk } from './risks';
import type { 
  EffortProgress, 
  TimelineProgress,
  HealthIndicator,
  HealthForecast
} from '../supporting/index';

// Supporting Detail Types
export interface WorkstreamDetail {
  workstream: Workstream;
  progress: WorkstreamProgress;
  performance: WorkstreamPerformance;
  health: WorkstreamHealth;
  issues: WorkstreamIssue[];
  risks: WorkstreamRisk[];
  forecast: WorkstreamForecast;
}

export interface WorkstreamProgress {
  overall: number;
  phases: PhaseProgress[];
  activities: ActivityProgress[];
  deliverables: DeliverableProgress[];
  timeline: TimelineProgress;
}

export interface PhaseProgress {
  phaseId: string;
  progress: number;
  status: 'not_started' | 'in_progress' | 'completed' | 'delayed';
  health: 'green' | 'amber' | 'red';
}

export interface ActivityProgress {
  activityId: string;
  progress: number;
  status: 'not_started' | 'in_progress' | 'completed' | 'delayed';
  effort: EffortProgress;
}

export interface DeliverableProgress {
  deliverableId: string;
  progress: number;
  status: 'not_started' | 'in_progress' | 'review' | 'completed';
  quality: 'draft' | 'review' | 'approved';
}

export interface WorkstreamPerformance {
  productivity: ProductivityMetrics;
  quality: QualityMetrics;
  efficiency: EfficiencyMetrics;
  resource: ResourceMetrics;
  timeline: TimelineMetrics;
}

export interface ProductivityMetrics {
  throughput: number;
  velocity: number;
  output: number;
  trends: MetricTrend[];
}

export interface QualityMetrics {
  defectRate: number;
  reworkRate: number;
  satisfaction: number;
  compliance: number;
  trends: MetricTrend[];
}

export interface EfficiencyMetrics {
  utilization: number;
  waste: number;
  automation: number;
  optimization: number;
  trends: MetricTrend[];
}

export interface ResourceMetrics {
  allocation: number;
  utilization: number;
  availability: number;
  cost: number;
  trends: MetricTrend[];
}

export interface TimelineMetrics {
  onTime: number;
  variance: number;
  acceleration: number;
  delays: number;
  trends: MetricTrend[];
}

export interface MetricTrend {
  period: string;
  value: number;
  direction: 'improving' | 'stable' | 'declining';
  forecast: number;
}

export interface WorkstreamHealth {
  overall: 'healthy' | 'at_risk' | 'critical';
  dimensions: HealthDimension[];
  indicators: HealthIndicator[];
  forecast: HealthForecast;
}

export interface HealthDimension {
  dimension: string;
  score: number;
  status: 'healthy' | 'at_risk' | 'critical';
  trends: string[];
  actions: string[];
}

export interface WorkstreamIssue {
  id: string;
  type: 'blocking' | 'quality' | 'resource' | 'schedule' | 'scope';
  severity: 'low' | 'medium' | 'high' | 'critical';
  description: string;
  impact: string;
  owner: string;
  status: 'open' | 'in_progress' | 'resolved' | 'closed';
  resolution: string;
  escalation: IssueEscalation;
  timeline: IssueTimeline;
}

export interface IssueEscalation {
  required: boolean;
  level: string;
  timeline: string;
  authority: string;
}

export interface IssueTimeline {
  created: string;
  updated: string;
  target: string;
  resolved: string;
}

export interface WorkstreamForecast {
  timeline: TimelineForecast;
  budget: BudgetForecast;
  quality: QualityForecast;
  resources: ResourceForecast;
  risks: RiskForecast;
}

export interface TimelineForecast {
  completion: string;
  confidence: number;
  variance: number;
  scenarios: TimelineScenario[];
  risks: string[];
}

export interface TimelineScenario {
  scenario: string;
  probability: number;
  completion: string;
  impact: string;
}

export interface BudgetForecast {
  total: number;
  spent: number;
  remaining: number;
  variance: number;
  confidence: number;
}

export interface QualityForecast {
  score: number;
  confidence: number;
  risks: string[];
  improvements: string[];
}

export interface ResourceForecast {
  allocation: number;
  utilization: number;
  gaps: string[];
  conflicts: string[];
}

export interface RiskForecast {
  exposure: number;
  probability: number;
  impact: string;
  trends: string[];
}