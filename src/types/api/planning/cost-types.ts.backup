/**
 * Cost Planning Types
 *
 * Type definitions for cost planning, estimation, and optimization.
 * Covers cost modeling, scenario analysis, ROI calculations,
 * and cost optimization functionality.
 *
 * Generated by CC - Claude Code
 */

import {
  BaseApiRequest,
  BaseApiResponse,
  MultiTenantContext,
  CreateRequest,
  CreateResponse,
  GetRequest,
  GetResponse
} from '../shared';

// Cost Planning APIs
export interface CreateCostPlanRequest extends CreateRequest<CostPlanData> {
  flowId: string;
  data: CostPlanData;
  costModel: CostModel;
  assumptions: CostAssumption[];
  scenarios: CostScenario[];
  includeOptimization?: boolean;
  includeSensitivityAnalysis?: boolean;
  includeROIAnalysis?: boolean;
}

export interface CreateCostPlanResponse extends CreateResponse<CostPlanResult> {
  data: CostPlanResult;
  costPlanId: string;
  totalCostEstimate: CostEstimate;
  breakdown: CostBreakdown;
  scenarios: CostScenarioResult[];
  optimization?: CostOptimization;
}

export interface GetCostPlanRequest extends GetRequest {
  costPlanId: string;
  includeBreakdown?: boolean;
  includeScenarios?: boolean;
  includeSensitivity?: boolean;
  includeROI?: boolean;
  currency?: string;
  timeframe?: {
    start: string;
    end: string;
  };
}

export interface GetCostPlanResponse extends GetResponse<CostPlanResult> {
  data: CostPlanResult;
  detailedBreakdown: DetailedCostBreakdown;
  sensitivityAnalysis: SensitivityAnalysis;
  roiAnalysis: ROIAnalysis;
  benchmarks: CostBenchmark[];
}

export interface OptimizeCostPlanRequest extends BaseApiRequest {
  costPlanId: string;
  optimizationTargets: CostOptimizationTarget[];
  constraints: CostConstraint[];
  tradeoffs: CostTradeoff[];
  includeAlternatives?: boolean;
  context: MultiTenantContext;
}

export interface OptimizeCostPlanResponse extends BaseApiResponse<CostOptimizationResult> {
  data: CostOptimizationResult;
  optimizedPlan: CostPlanResult;
  savings: CostSaving[];
  alternatives: CostAlternative[];
  recommendations: CostRecommendation[];
}

// Core Data Types
export interface CostPlanData {
  id: string;
  name: string;
  description: string;
  scope: CostScope;
  methodology: CostMethodology;
  model: CostModel;
  timeline: CostTimeline;
  categories: CostCategory[];
  elements: CostElement[];
  assumptions: CostAssumption[];
  constraints: CostConstraint[];
  scenarios: CostScenario[];
  currency: CostCurrency;
  escalation: CostEscalation;
  contingency: CostContingency;
  metadata: Record<string, any>;
}

export interface CostPlanResult {
  id: string;
  costPlanData: CostPlanData;
  totalCost: number;
  totalBudget: number;
  variance: number;
  accuracy: number;
  confidence: number;
  riskAdjustment: number;
  breakdown: CostBreakdown;
  timeline: CostTimelineResult;
  scenarios: CostScenarioResult[];
  optimization: CostOptimization;
  benchmarks: CostBenchmark[];
  recommendations: CostRecommendation[];
}

export interface CostScope {
  domains: CostDomain[];
  workstreams: string[];
  phases: string[];
  deliverables: string[];
  resources: string[];
  geography: string[];
  timeframe: {
    start: string;
    end: string;
  };
  inclusions: string[];
  exclusions: string[];
}

export interface CostMethodology {
  approach: 'bottom_up' | 'top_down' | 'analogous' | 'parametric' | 'three_point' | 'hybrid';
  techniques: CostTechnique[];
  standards: CostStandard[];
  tools: CostTool[];
  validation: CostValidation;
  review: CostReview;
  approval: CostApproval;
}

export interface CostModel {
  type: 'deterministic' | 'probabilistic' | 'simulation' | 'machine_learning';
  structure: ModelStructure;
  parameters: ModelParameter[];
  relationships: ModelRelationship[];
  algorithms: ModelAlgorithm[];
  calibration: ModelCalibration;
  validation: ModelValidation;
}

export interface CostTimeline {
  duration: number;
  periods: CostPeriod[];
  milestones: CostMilestone[];
  phases: CostPhase[];
  dependencies: CostDependency[];
  cashflow: CashFlow[];
  funding: FundingSchedule[];
}

export interface CostCategory {
  id: string;
  name: string;
  description: string;
  type: 'capital' | 'operational' | 'one_time' | 'recurring' | 'contingency';
  subcategories: CostSubcategory[];
  allocation: CategoryAllocation;
  rules: CategoryRule[];
  ownership: CategoryOwnership;
  tracking: CategoryTracking;
}

export interface CostElement {
  id: string;
  name: string;
  description: string;
  category: string;
  subcategory: string;
  type: ElementType;
  unit: CostUnit;
  quantity: ElementQuantity;
  rate: ElementRate;
  cost: ElementCost;
  timing: ElementTiming;
  dependencies: string[];
  assumptions: string[];
  risks: ElementRisk[];
}

export interface CostAssumption {
  id: string;
  description: string;
  category: string;
  value: any;
  confidence: number;
  impact: AssumptionImpact;
  validation: AssumptionValidation;
  sensitivity: number;
  owner: string;
  dependencies: string[];
}

export interface CostConstraint {
  id: string;
  type: 'budget' | 'timeline' | 'resource' | 'regulatory' | 'contractual';
  description: string;
  value: any;
  flexibility: 'fixed' | 'flexible' | 'negotiable';
  impact: ConstraintImpact;
  workaround: string;
  escalation: string;
}

export interface CostScenario {
  id: string;
  name: string;
  description: string;
  type: 'optimistic' | 'pessimistic' | 'most_likely' | 'stress' | 'custom';
  probability: number;
  assumptions: ScenarioAssumption[];
  parameters: ScenarioParameter[];
  results: ScenarioResult[];
  comparison: ScenarioComparison;
}

export interface CostCurrency {
  primary: string;
  secondary: string[];
  exchangeRates: ExchangeRate[];
  hedging: CurrencyHedging;
  riskManagement: CurrencyRisk;
}

export interface CostEscalation {
  enabled: boolean;
  method: 'simple' | 'compound' | 'variable' | 'indexed';
  rate: EscalationRate[];
  factors: EscalationFactor[];
  adjustment: EscalationAdjustment[];
}

export interface CostContingency {
  enabled: boolean;
  method: 'percentage' | 'absolute' | 'risk_based' | 'scenario_based';
  level: ContingencyLevel[];
  allocation: ContingencyAllocation[];
  triggers: ContingencyTrigger[];
  governance: ContingencyGovernance;
}

// Estimation and Analysis Types
export interface CostEstimate {
  baseEstimate: number;
  contingency: number;
  escalation: number;
  riskAdjustment: number;
  totalEstimate: number;
  confidence: EstimateConfidence;
  accuracy: EstimateAccuracy;
  range: EstimateRange;
  methodology: string;
  assumptions: string[];
}

export interface CostBreakdown {
  byCategory: CategoryBreakdown[];
  byPhase: PhaseBreakdown[];
  byWorkstream: WorkstreamBreakdown[];
  byResource: ResourceBreakdown[];
  byLocation: LocationBreakdown[];
  byTime: TimeBreakdown[];
}

export interface DetailedCostBreakdown {
  structure: BreakdownStructure;
  levels: BreakdownLevel[];
  elements: BreakdownElement[];
  relationships: BreakdownRelationship[];
  aggregation: BreakdownAggregation;
}

export interface SensitivityAnalysis {
  variables: SensitivityVariable[];
  analysis: VariableAnalysis[];
  tornado: TornadoAnalysis;
  spider: SpiderAnalysis;
  scenario: ScenarioSensitivity[];
  recommendations: SensitivityRecommendation[];
}

export interface ROIAnalysis {
  investment: InvestmentAnalysis;
  benefits: BenefitAnalysis;
  returns: ReturnAnalysis;
  metrics: ROIMetrics;
  cashflow: ROICashFlow;
  sensitivity: ROISensitivity;
  scenario: ROIScenario[];
  recommendation: ROIRecommendation;
}

export interface CostOptimization {
  current: OptimizationState;
  targets: OptimizationTarget[];
  opportunities: OptimizationOpportunity[];
  actions: OptimizationAction[];
  constraints: OptimizationConstraint[];
  results: OptimizationResult[];
  tradeoffs: OptimizationTradeoff[];
}

export interface CostBenchmark {
  type: 'internal' | 'external' | 'industry' | 'best_practice';
  source: string;
  metric: BenchmarkMetric;
  comparison: BenchmarkComparison;
  variance: BenchmarkVariance;
  insights: BenchmarkInsight[];
  recommendations: BenchmarkRecommendation[];
}

// Supporting Detail Types
export interface CostDomain {
  name: string;
  description: string;
  scope: string[];
  ownership: string;
  allocation: number;
  tracking: string;
}

export interface CostTechnique {
  name: string;
  type: string;
  applicability: string[];
  accuracy: number;
  confidence: number;
  effort: string;
}

export interface CostStandard {
  name: string;
  version: string;
  scope: string[];
  compliance: boolean;
  certification: string;
}

export interface CostTool {
  name: string;
  type: string;
  capabilities: string[];
  integration: string[];
  licensing: string;
}

export interface CostValidation {
  method: string[];
  criteria: string[];
  frequency: string;
  responsibility: string;
  documentation: string;
}

export interface CostReview {
  frequency: string;
  participants: string[];
  agenda: string[];
  criteria: string[];
  documentation: string;
}

export interface CostApproval {
  levels: ApprovalLevel[];
  thresholds: ApprovalThreshold[];
  authority: ApprovalAuthority[];
  process: ApprovalProcess;
  documentation: string;
}

export interface ModelStructure {
  hierarchy: StructureLevel[];
  components: StructureComponent[];
  relationships: StructureRelationship[];
  constraints: StructureConstraint[];
}

export interface ModelParameter {
  name: string;
  type: 'input' | 'output' | 'calculated' | 'derived';
  value: any;
  distribution: ParameterDistribution;
  sensitivity: number;
  uncertainty: number;
}

export interface ModelRelationship {
  from: string;
  to: string;
  type: 'causal' | 'correlational' | 'functional' | 'conditional';
  strength: number;
  formula: string;
}

export interface ModelAlgorithm {
  name: string;
  type: string;
  purpose: string;
  parameters: AlgorithmParameter[];
  performance: AlgorithmPerformance;
}

export interface ModelCalibration {
  method: string;
  data: CalibrationData[];
  metrics: CalibrationMetric[];
  validation: CalibrationValidation;
  frequency: string;
}

export interface ModelValidation {
  method: string[];
  criteria: ValidationCriteria[];
  results: ValidationResult[];
  confidence: number;
  limitations: string[];
}

export interface CostPeriod {
  id: string;
  name: string;
  startDate: string;
  endDate: string;
  duration: number;
  cost: number;
  budget: number;
  variance: number;
}

export interface CostMilestone {
  id: string;
  name: string;
  date: string;
  cost: number;
  budget: number;
  variance: number;
  status: string;
}

export interface CostPhase {
  id: string;
  name: string;
  startDate: string;
  endDate: string;
  cost: number;
  budget: number;
  progress: number;
  variance: number;
}

export interface CostDependency {
  id: string;
  from: string;
  to: string;
  type: string;
  impact: DependencyImpact;
  lag: number;
}

export interface CashFlow {
  period: string;
  inflow: number;
  outflow: number;
  net: number;
  cumulative: number;
  discounted: number;
}

export interface FundingSchedule {
  source: string;
  amount: number;
  date: string;
  conditions: string[];
  status: string;
}

export interface CostSubcategory {
  id: string;
  name: string;
  description: string;
  allocation: number;
  rules: string[];
  tracking: string;
}

export interface CategoryAllocation {
  method: 'direct' | 'proportional' | 'activity_based' | 'driver_based';
  basis: string;
  percentage: number;
  drivers: AllocationDriver[];
}

export interface CategoryRule {
  rule: string;
  condition: string;
  action: string;
  priority: number;
}

export interface CategoryOwnership {
  owner: string;
  accountable: string;
  responsible: string[];
  consulted: string[];
  informed: string[];
}

export interface CategoryTracking {
  method: string;
  frequency: string;
  metrics: string[];
  reporting: string;
  alerts: string[];
}

export interface ElementType {
  type: 'labor' | 'material' | 'equipment' | 'service' | 'license' | 'overhead';
  subtype: string;
  characteristics: string[];
  estimation: string;
}

export interface CostUnit {
  unit: string;
  description: string;
  conversion: UnitConversion[];
  standard: boolean;
}

export interface ElementQuantity {
  base: number;
  adjustment: QuantityAdjustment[];
  total: number;
  confidence: number;
  source: string;
}

export interface ElementRate {
  base: number;
  adjustment: RateAdjustment[];
  total: number;
  currency: string;
  escalation: number;
  confidence: number;
}

export interface ElementCost {
  base: number;
  adjustments: CostAdjustment[];
  total: number;
  currency: string;
  confidence: number;
  risk: number;
}

export interface ElementTiming {
  start: string;
  end: string;
  duration: number;
  distribution: TimingDistribution;
  dependencies: string[];
}

export interface ElementRisk {
  risk: string;
  probability: number;
  impact: number;
  mitigation: string;
  contingency: number;
}

export interface AssumptionImpact {
  scope: 'element' | 'category' | 'phase' | 'total';
  magnitude: 'low' | 'medium' | 'high' | 'critical';
  direction: 'increase' | 'decrease' | 'neutral';
  quantification: number;
}

export interface AssumptionValidation {
  method: string;
  frequency: string;
  source: string;
  criteria: string[];
  status: string;
}

export interface ConstraintImpact {
  scope: string;
  severity: 'low' | 'medium' | 'high' | 'critical';
  cost: number;
  timeline: string;
  mitigation: string;
}

export interface ScenarioAssumption {
  assumption: string;
  value: any;
  rationale: string;
  confidence: number;
}

export interface ScenarioParameter {
  parameter: string;
  baseValue: any;
  scenarioValue: any;
  variance: number;
  impact: string;
}

export interface ScenarioResult {
  metric: string;
  value: number;
  variance: number;
  confidence: number;
  ranking: number;
}

export interface ScenarioComparison {
  baseline: string;
  comparison: ComparisonResult[];
  variance: ComparisonVariance[];
  ranking: ComparisonRanking[];
}

export interface ExchangeRate {
  from: string;
  to: string;
  rate: number;
  date: string;
  source: string;
}

export interface CurrencyHedging {
  strategy: string;
  instruments: HedgingInstrument[];
  coverage: number;
  cost: number;
  effectiveness: number;
}

export interface CurrencyRisk {
  exposure: CurrencyExposure[];
  volatility: CurrencyVolatility;
  hedging: CurrencyHedging;
  monitoring: CurrencyMonitoring;
}

export interface EscalationRate {
  category: string;
  rate: number;
  period: string;
  source: string;
  confidence: number;
}

export interface EscalationFactor {
  factor: string;
  impact: number;
  variability: number;
  source: string;
}

export interface EscalationAdjustment {
  type: string;
  value: number;
  rationale: string;
  approval: string;
}

export interface ContingencyLevel {
  category: string;
  percentage: number;
  amount: number;
  rationale: string;
  approval: string;
}

export interface ContingencyAllocation {
  method: string;
  basis: string;
  distribution: AllocationDistribution[];
  rules: AllocationRule[];
}

export interface ContingencyTrigger {
  event: string;
  condition: string;
  threshold: number;
  action: string;
  approval: string;
}

export interface ContingencyGovernance {
  authority: string;
  approval: string;
  reporting: string;
  monitoring: string;
  escalation: string;
}

// Analysis Supporting Types
export interface EstimateConfidence {
  level: number;
  range: ConfidenceRange;
  factors: ConfidenceFactor[];
  assessment: string;
}

export interface EstimateAccuracy {
  expected: number;
  historical: number;
  benchmark: number;
  factors: AccuracyFactor[];
}

export interface EstimateRange {
  minimum: number;
  maximum: number;
  mostLikely: number;
  expected: number;
  standardDeviation: number;
}

export interface CategoryBreakdown {
  category: string;
  amount: number;
  percentage: number;
  variance: number;
  trend: string;
}

export interface PhaseBreakdown {
  phase: string;
  amount: number;
  percentage: number;
  variance: number;
  status: string;
}

export interface WorkstreamBreakdown {
  workstream: string;
  amount: number;
  percentage: number;
  variance: number;
  progress: number;
}

export interface ResourceBreakdown {
  resource: string;
  amount: number;
  percentage: number;
  utilization: number;
  efficiency: number;
}

export interface LocationBreakdown {
  location: string;
  amount: number;
  percentage: number;
  cost_index: number;
  adjustment: number;
}

export interface TimeBreakdown {
  period: string;
  amount: number;
  cumulative: number;
  budget: number;
  variance: number;
}

export interface BreakdownStructure {
  levels: number;
  hierarchy: StructureHierarchy[];
  aggregation: AggregationRule[];
  relationships: HierarchyRelationship[];
}

export interface BreakdownLevel {
  level: number;
  name: string;
  elements: number;
  aggregation: string;
  validation: string;
}

export interface BreakdownElement {
  id: string;
  name: string;
  level: number;
  parent: string;
  children: string[];
  cost: number;
  percentage: number;
}

export interface BreakdownRelationship {
  parent: string;
  child: string;
  type: string;
  allocation: number;
  dependency: string;
}

export interface BreakdownAggregation {
  method: string;
  rules: AggregationRule[];
  validation: AggregationValidation;
  rollup: AggregationRollup[];
}

export interface SensitivityVariable {
  variable: string;
  baseValue: number;
  range: VariableRange;
  distribution: string;
  correlation: VariableCorrelation[];
}

export interface VariableAnalysis {
  variable: string;
  impact: ImpactAnalysis;
  elasticity: number;
  ranking: number;
  significance: string;
}

export interface TornadoAnalysis {
  variables: TornadoVariable[];
  baseValue: number;
  range: TornadoRange;
  sensitivity: TornadoSensitivity[];
}

export interface SpiderAnalysis {
  variables: SpiderVariable[];
  scenarios: SpiderScenario[];
  baseline: number;
  visualization: SpiderVisualization;
}

export interface ScenarioSensitivity {
  scenario: string;
  variables: SensitivityVariable[];
  impact: ScenarioImpact;
  probability: number;
}

export interface SensitivityRecommendation {
  variable: string;
  recommendation: string;
  rationale: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
  action: string;
}

export interface InvestmentAnalysis {
  totalInvestment: number;
  breakdown: InvestmentBreakdown[];
  timing: InvestmentTiming;
  funding: InvestmentFunding;
  risk: InvestmentRisk;
}

export interface BenefitAnalysis {
  totalBenefits: number;
  categories: BenefitCategory[];
  tangible: TangibleBenefit[];
  intangible: IntangibleBenefit[];
  realization: BenefitRealization;
}

export interface ReturnAnalysis {
  totalReturns: number;
  netReturns: number;
  periods: ReturnPeriod[];
  discounting: DiscountingMethod;
  risk: ReturnRisk;
}

export interface ROIMetrics {
  roi: number;
  irr: number;
  npv: number;
  paybackPeriod: number;
  breakEvenPoint: number;
  profitabilityIndex: number;
}

export interface ROICashFlow {
  periods: ROIPeriod[];
  discounting: ROIDiscounting;
  sensitivity: CashFlowSensitivity;
  scenario: CashFlowScenario[];
}

export interface ROISensitivity {
  variables: ROIVariable[];
  analysis: ROIVariableAnalysis[];
  thresholds: ROIThreshold[];
  recommendations: ROISensitivityRecommendation[];
}

export interface ROIScenario {
  scenario: string;
  assumptions: ROIAssumption[];
  metrics: ROIScenarioMetrics;
  probability: number;
  recommendation: string;
}

export interface ROIRecommendation {
  decision: 'proceed' | 'defer' | 'modify' | 'reject';
  rationale: string;
  conditions: string[];
  alternatives: ROIAlternative[];
  sensitivity: string[];
}

// Optimization Supporting Types
export interface OptimizationState {
  totalCost: number;
  efficiency: number;
  utilization: number;
  waste: number;
  opportunities: number;
  constraints: number;
}

export interface OptimizationTarget {
  metric: string;
  current: number;
  target: number;
  improvement: number;
  timeline: string;
  feasibility: string;
}

export interface OptimizationOpportunity {
  opportunity: string;
  category: string;
  saving: number;
  effort: string;
  risk: string;
  timeline: string;
  feasibility: string;
}

export interface OptimizationAction {
  action: string;
  description: string;
  category: string;
  impact: ActionImpact;
  effort: ActionEffort;
  timeline: ActionTimeline;
  dependencies: string[];
}

export interface OptimizationConstraint {
  constraint: string;
  type: string;
  value: any;
  flexibility: string;
  impact: string;
  workaround: string;
}

export interface OptimizationResult {
  metric: string;
  baseline: number;
  optimized: number;
  improvement: number;
  confidence: number;
  timeline: string;
}

export interface OptimizationTradeoff {
  tradeoff: string;
  option1: TradeoffOption;
  option2: TradeoffOption;
  recommendation: string;
  rationale: string;
}

export interface BenchmarkMetric {
  metric: string;
  value: number;
  unit: string;
  normalization: string;
  context: string[];
}

export interface BenchmarkComparison {
  internal: number;
  external: number;
  variance: number;
  percentile: number;
  interpretation: string;
}

export interface BenchmarkVariance {
  absolute: number;
  relative: number;
  significance: string;
  factors: VarianceFactor[];
}

export interface BenchmarkInsight {
  insight: string;
  category: string;
  significance: 'low' | 'medium' | 'high' | 'critical';
  action: string;
}

export interface BenchmarkRecommendation {
  recommendation: string;
  rationale: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
  effort: string;
  timeline: string;
}

// Additional Supporting Types
export interface CostOptimizationTarget {
  target: string;
  metric: string;
  current: number;
  desired: number;
  timeline: string;
  constraints: string[];
}

export interface CostOptimizationResult {
  totalSavings: number;
  savingsBreakdown: SavingsBreakdown[];
  implementation: ImplementationPlan;
  riskAssessment: OptimizationRisk;
  timeline: OptimizationTimeline;
}

export interface CostSaving {
  category: string;
  amount: number;
  percentage: number;
  timeline: string;
  confidence: number;
  risk: string;
}

export interface CostAlternative {
  alternative: string;
  description: string;
  cost: number;
  savings: number;
  risk: string;
  feasibility: string;
  recommendation: 'recommended' | 'viable' | 'not_recommended';
}

export interface CostRecommendation {
  recommendation: string;
  category: string;
  rationale: string;
  impact: string;
  effort: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
  timeline: string;
}

export interface CostTradeoff {
  aspect1: string;
  aspect2: string;
  relationship: 'positive' | 'negative' | 'neutral';
  magnitude: number;
  context: string;
  recommendation: string;
}

export interface CostTimelineResult {
  totalDuration: number;
  phases: PhaseResult[];
  milestones: MilestoneResult[];
  cashflow: CashFlowResult[];
  funding: FundingResult[];
}

export interface CostScenarioResult {
  scenarioId: string;
  totalCost: number;
  breakdown: ScenarioBreakdown[];
  variance: number;
  probability: number;
  ranking: number;
}

// Final utility types for cost planning
export interface AllocationDriver {
  driver: string;
  weight: number;
  measurement: string;
  source: string;
}

export interface UnitConversion {
  from: string;
  to: string;
  factor: number;
  formula: string;
}

export interface QuantityAdjustment {
  type: string;
  factor: number;
  rationale: string;
  approval: string;
}

export interface RateAdjustment {
  type: string;
  factor: number;
  rationale: string;
  approval: string;
}

export interface CostAdjustment {
  type: string;
  amount: number;
  rationale: string;
  approval: string;
}

export interface TimingDistribution {
  type: 'uniform' | 'normal' | 'triangular' | 'custom';
  parameters: DistributionParameter[];
  profile: TimingProfile[];
}

export interface TimingProfile {
  period: string;
  percentage: number;
  amount: number;
  cumulative: number;
}

export interface DistributionParameter {
  parameter: string;
  value: number;
  description: string;
}

export interface ComparisonResult {
  metric: string;
  baseline: number;
  scenario: number;
  variance: number;
  significance: string;
}

export interface ComparisonVariance {
  type: 'absolute' | 'relative';
  value: number;
  significance: 'low' | 'medium' | 'high' | 'critical';
  explanation: string;
}

export interface ComparisonRanking {
  scenario: string;
  rank: number;
  score: number;
  recommendation: string;
}

export interface HedgingInstrument {
  instrument: string;
  type: string;
  coverage: number;
  cost: number;
  effectiveness: number;
}

export interface CurrencyExposure {
  currency: string;
  amount: number;
  type: 'transaction' | 'translation' | 'economic';
  hedging: number;
  netExposure: number;
}

export interface CurrencyVolatility {
  currency: string;
  volatility: number;
  correlation: CurrencyCorrelation[];
  forecast: VolatilityForecast;
}

export interface CurrencyMonitoring {
  frequency: string;
  metrics: string[];
  thresholds: CurrencyThreshold[];
  alerts: CurrencyAlert[];
}

export interface AllocationDistribution {
  category: string;
  percentage: number;
  amount: number;
  rationale: string;
}

export interface AllocationRule {
  rule: string;
  condition: string;
  action: string;
  priority: number;
}

export interface ConfidenceRange {
  lower: number;
  upper: number;
  interval: number;
}

export interface ConfidenceFactor {
  factor: string;
  impact: 'positive' | 'negative' | 'neutral';
  weight: number;
  description: string;
}

export interface AccuracyFactor {
  factor: string;
  impact: number;
  description: string;
  mitigation: string;
}

export interface StructureHierarchy {
  level: number;
  name: string;
  parent: string;
  children: string[];
}

export interface AggregationRule {
  rule: string;
  method: 'sum' | 'average' | 'weighted' | 'formula';
  formula: string;
  validation: string;
}

export interface HierarchyRelationship {
  parent: string;
  child: string;
  type: string;
  weight: number;
}

export interface AggregationValidation {
  method: string;
  tolerance: number;
  escalation: string;
}

export interface AggregationRollup {
  level: number;
  method: string;
  validation: boolean;
  variance: number;
}

export interface VariableRange {
  minimum: number;
  maximum: number;
  mostLikely: number;
  standardDeviation: number;
}

export interface VariableCorrelation {
  variable: string;
  correlation: number;
  significance: string;
}

export interface ImpactAnalysis {
  directImpact: number;
  indirectImpact: number;
  totalImpact: number;
  confidence: number;
}

export interface TornadoVariable {
  variable: string;
  lowImpact: number;
  highImpact: number;
  range: number;
  ranking: number;
}

export interface TornadoRange {
  minimum: number;
  maximum: number;
  baseline: number;
}

export interface TornadoSensitivity {
  variable: string;
  sensitivity: number;
  elasticity: number;
  significance: string;
}

export interface SpiderVariable {
  variable: string;
  baseValue: number;
  scenarios: SpiderScenario[];
  sensitivity: number;
}

export interface SpiderScenario {
  scenario: string;
  value: number;
  impact: number;
}

export interface SpiderVisualization {
  axes: SpiderAxis[];
  scales: SpiderScale[];
  data: SpiderData[];
}

export interface SpiderAxis {
  axis: string;
  variable: string;
  scale: string;
  range: AxisRange;
}

export interface SpiderScale {
  scale: string;
  minimum: number;
  maximum: number;
  intervals: number;
}

export interface SpiderData {
  scenario: string;
  values: DataPoint[];
  area: number;
}

export interface DataPoint {
  axis: string;
  value: number;
  normalized: number;
}

export interface AxisRange {
  minimum: number;
  maximum: number;
}

export interface ScenarioImpact {
  totalImpact: number;
  breakdown: ImpactBreakdown[];
  variance: number;
  confidence: number;
}

export interface ImpactBreakdown {
  category: string;
  impact: number;
  percentage: number;
  confidence: number;
}

export interface InvestmentBreakdown {
  category: string;
  amount: number;
  percentage: number;
  timing: string;
}

export interface InvestmentTiming {
  phases: InvestmentPhase[];
  milestones: InvestmentMilestone[];
  cashflow: InvestmentCashFlow[];
}

export interface InvestmentFunding {
  sources: FundingSource[];
  structure: FundingStructure;
  schedule: FundingScheduleDetail[];
  risks: FundingRisk[];
}

export interface InvestmentRisk {
  risks: InvestmentRiskFactor[];
  mitigation: RiskMitigation[];
  contingency: RiskContingency;
}

export interface BenefitCategory {
  category: string;
  amount: number;
  percentage: number;
  timeline: string;
  confidence: number;
}

export interface TangibleBenefit {
  benefit: string;
  amount: number;
  measurement: string;
  realization: string;
  confidence: number;
}

export interface IntangibleBenefit {
  benefit: string;
  description: string;
  quantification: string;
  impact: string;
  measurement: string;
}

export interface BenefitRealization {
  timeline: RealizationTimeline;
  milestones: RealizationMilestone[];
  tracking: RealizationTracking;
  risks: RealizationRisk[];
}

export interface ReturnPeriod {
  period: string;
  returns: number;
  cumulative: number;
  discounted: number;
}

export interface DiscountingMethod {
  method: 'npv' | 'irr' | 'payback' | 'profitability_index';
  rate: number;
  compounding: string;
  adjustments: DiscountAdjustment[];
}

export interface ReturnRisk {
  volatility: number;
  downside: number;
  probability: ReturnProbability[];
  sensitivity: ReturnSensitivity[];
}

export interface ROIPeriod {
  period: string;
  investment: number;
  benefits: number;
  net: number;
  cumulative: number;
  discounted: number;
}

export interface ROIDiscounting {
  rate: number;
  method: string;
  adjustments: ROIAdjustment[];
  sensitivity: DiscountSensitivity[];
}

export interface CashFlowSensitivity {
  variables: CashFlowVariable[];
  scenarios: CashFlowScenario[];
  analysis: CashFlowAnalysis;
}

export interface CashFlowScenario {
  scenario: string;
  cashflow: CashFlowPeriod[];
  metrics: CashFlowMetrics;
  probability: number;
}

export interface ROIVariable {
  variable: string;
  impact: number;
  elasticity: number;
  threshold: number;
  sensitivity: number;
}

export interface ROIVariableAnalysis {
  variable: string;
  baseCase: number;
  sensitivityRange: SensitivityRange[];
  breakeven: number;
  recommendation: string;
}

export interface ROIThreshold {
  metric: string;
  threshold: number;
  condition: string;
  action: string;
}

export interface ROISensitivityRecommendation {
  variable: string;
  recommendation: string;
  rationale: string;
  monitoring: string;
}

export interface ROIAssumption {
  assumption: string;
  impact: string;
  confidence: number;
  validation: string;
}

export interface ROIScenarioMetrics {
  roi: number;
  npv: number;
  irr: number;
  payback: number;
  profitabilityIndex: number;
}

export interface ROIAlternative {
  alternative: string;
  investment: number;
  benefits: number;
  metrics: ROIAlternativeMetrics;
  recommendation: string;
}

export interface ActionImpact {
  financial: number;
  operational: string;
  strategic: string;
  timeline: string;
}

export interface ActionEffort {
  complexity: 'low' | 'medium' | 'high' | 'very_high';
  duration: number;
  resources: ActionResource[];
  dependencies: string[];
}

export interface ActionTimeline {
  start: string;
  phases: ActionPhase[];
  completion: string;
  milestones: ActionMilestone[];
}

export interface ActionResource {
  resource: string;
  quantity: number;
  duration: number;
  cost: number;
}

export interface ActionPhase {
  phase: string;
  duration: number;
  activities: string[];
  deliverables: string[];
}

export interface ActionMilestone {
  milestone: string;
  date: string;
  criteria: string[];
  deliverable: string;
}

export interface TradeoffOption {
  option: string;
  cost: number;
  benefit: string;
  risk: string;
  timeline: string;
}

export interface VarianceFactor {
  factor: string;
  contribution: number;
  explanation: string;
  controllable: boolean;
}

export interface SavingsBreakdown {
  category: string;
  amount: number;
  percentage: number;
  timeline: string;
  confidence: number;
}

export interface ImplementationPlan {
  phases: ImplementationPhase[];
  timeline: ImplementationTimeline;
  resources: ImplementationResource[];
  risks: ImplementationRisk[];
}

export interface OptimizationRisk {
  risks: OptimizationRiskFactor[];
  mitigation: OptimizationMitigation[];
  monitoring: OptimizationMonitoring;
}

export interface OptimizationTimeline {
  totalDuration: number;
  phases: OptimizationPhase[];
  milestones: OptimizationMilestone[];
  dependencies: OptimizationDependency[];
}

export interface PhaseResult {
  phase: string;
  cost: number;
  budget: number;
  variance: number;
  status: string;
  completion: number;
}

export interface MilestoneResult {
  milestone: string;
  cost: number;
  budget: number;
  variance: number;
  status: string;
  date: string;
}

export interface CashFlowResult {
  period: string;
  inflow: number;
  outflow: number;
  net: number;
  cumulative: number;
}

export interface FundingResult {
  source: string;
  amount: number;
  status: string;
  conditions: string[];
}

export interface ScenarioBreakdown {
  category: string;
  amount: number;
  variance: number;
  driver: string;
}

// Additional final utility types
export interface CurrencyCorrelation {
  currency: string;
  correlation: number;
  significance: string;
}

export interface VolatilityForecast {
  period: string;
  forecast: number;
  confidence: number;
  factors: string[];
}

export interface CurrencyThreshold {
  metric: string;
  threshold: number;
  action: string;
  escalation: string;
}

export interface CurrencyAlert {
  alert: string;
  condition: string;
  severity: string;
  recipients: string[];
}

export interface ApprovalLevel {
  level: string;
  authority: string;
  threshold: number;
  process: string;
}

export interface ApprovalThreshold {
  metric: string;
  threshold: number;
  level: string;
  escalation: string;
}

export interface ApprovalAuthority {
  authority: string;
  scope: string[];
  limits: AuthorityLimit[];
  delegation: string;
}

export interface ApprovalProcess {
  steps: ProcessStep[];
  timeline: string;
  escalation: string;
  documentation: string;
}

export interface AuthorityLimit {
  type: string;
  limit: number;
  conditions: string[];
}

export interface ProcessStep {
  step: string;
  owner: string;
  duration: number;
  criteria: string[];
}

export interface StructureLevel {
  level: number;
  name: string;
  description: string;
  aggregation: string;
}

export interface StructureComponent {
  component: string;
  level: number;
  parent: string;
  cost: number;
}

export interface StructureRelationship {
  from: string;
  to: string;
  type: string;
  weight: number;
}

export interface StructureConstraint {
  constraint: string;
  type: string;
  value: any;
  enforcement: string;
}

export interface ParameterDistribution {
  type: string;
  parameters: any[];
  bounds: ParameterBounds;
}

export interface ParameterBounds {
  minimum: number;
  maximum: number;
}

export interface AlgorithmParameter {
  parameter: string;
  value: any;
  description: string;
}

export interface AlgorithmPerformance {
  accuracy: number;
  precision: number;
  recall: number;
  speed: number;
}

export interface CalibrationData {
  dataset: string;
  size: number;
  quality: string;
  source: string;
}

export interface CalibrationMetric {
  metric: string;
  value: number;
  target: number;
  variance: number;
}

export interface CalibrationValidation {
  method: string;
  result: boolean;
  confidence: number;
  limitations: string[];
}

export interface ValidationCriteria {
  criteria: string;
  threshold: number;
  measurement: string;
}

export interface ValidationResult {
  test: string;
  result: boolean;
  confidence: number;
  details: string;
}

export interface DependencyImpact {
  severity: string;
  cost: number;
  timeline: string;
  mitigation: string;
}

// Final remaining utility types
export interface InvestmentPhase {
  phase: string;
  amount: number;
  timing: string;
  dependencies: string[];
}

export interface InvestmentMilestone {
  milestone: string;
  amount: number;
  date: string;
  criteria: string[];
}

export interface InvestmentCashFlow {
  period: string;
  amount: number;
  cumulative: number;
  source: string;
}

export interface FundingSource {
  source: string;
  amount: number;
  cost: number;
  terms: string[];
}

export interface FundingStructure {
  debt: number;
  equity: number;
  internal: number;
  external: number;
}

export interface FundingScheduleDetail {
  milestone: string;
  amount: number;
  date: string;
  source: string;
}

export interface FundingRisk {
  risk: string;
  probability: number;
  impact: number;
  mitigation: string;
}

export interface InvestmentRiskFactor {
  risk: string;
  category: string;
  probability: number;
  impact: number;
}

export interface RiskMitigation {
  risk: string;
  strategy: string;
  cost: number;
  effectiveness: number;
}

export interface RiskContingency {
  amount: number;
  triggers: string[];
  approval: string;
}

export interface RealizationTimeline {
  phases: RealizationPhase[];
  duration: number;
  dependencies: string[];
}

export interface RealizationMilestone {
  milestone: string;
  benefit: number;
  date: string;
  criteria: string[];
}

export interface RealizationTracking {
  frequency: string;
  metrics: string[];
  reporting: string;
  escalation: string[];
}

export interface RealizationRisk {
  risk: string;
  probability: number;
  impact: number;
  mitigation: string;
}

export interface RealizationPhase {
  phase: string;
  benefit: number;
  duration: number;
  activities: string[];
}

export interface DiscountAdjustment {
  type: string;
  adjustment: number;
  rationale: string;
}

export interface ReturnProbability {
  scenario: string;
  probability: number;
  return: number;
}

export interface ReturnSensitivity {
  variable: string;
  impact: number;
  threshold: number;
}

export interface ROIAdjustment {
  type: string;
  adjustment: number;
  rationale: string;
}

export interface DiscountSensitivity {
  rate: number;
  impact: number;
  threshold: number;
}

export interface CashFlowVariable {
  variable: string;
  impact: number;
  elasticity: number;
}

export interface CashFlowPeriod {
  period: string;
  inflow: number;
  outflow: number;
  net: number;
}

export interface CashFlowMetrics {
  totalInflow: number;
  totalOutflow: number;
  netCashFlow: number;
  roi: number;
}

export interface CashFlowAnalysis {
  volatility: number;
  correlation: CashFlowCorrelation[];
  trends: CashFlowTrend[];
}

export interface CashFlowCorrelation {
  variable: string;
  correlation: number;
}

export interface CashFlowTrend {
  metric: string;
  trend: string;
  rate: number;
}

export interface SensitivityRange {
  low: number;
  high: number;
  impact: number;
}

export interface ROIAlternativeMetrics {
  roi: number;
  npv: number;
  irr: number;
  payback: number;
}

export interface ImplementationPhase {
  phase: string;
  duration: number;
  activities: string[];
  resources: string[];
}

export interface ImplementationTimeline {
  totalDuration: number;
  start: string;
  end: string;
  milestones: string[];
}

export interface ImplementationResource {
  resource: string;
  quantity: number;
  cost: number;
  duration: number;
}

export interface ImplementationRisk {
  risk: string;
  probability: number;
  impact: number;
  mitigation: string;
}

export interface OptimizationRiskFactor {
  risk: string;
  probability: number;
  impact: number;
  category: string;
}

export interface OptimizationMitigation {
  risk: string;
  strategy: string;
  cost: number;
  effectiveness: number;
}

export interface OptimizationMonitoring {
  frequency: string;
  metrics: string[];
  thresholds: string[];
  escalation: string[];
}

export interface OptimizationPhase {
  phase: string;
  duration: number;
  activities: string[];
  deliverables: string[];
}

export interface OptimizationMilestone {
  milestone: string;
  date: string;
  criteria: string[];
  benefit: number;
}

export interface OptimizationDependency {
  from: string;
  to: string;
  type: string;
  impact: string;
}
