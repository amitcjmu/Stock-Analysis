/**
 * Migration Strategy Planning Types
 * 
 * Type definitions for migration strategy development, analysis, and comparison.
 * Covers strategy creation, alternatives evaluation, feasibility assessment,
 * and strategy comparison functionality.
 * 
 * Generated by CC - Claude Code
 */

import {
  BaseApiRequest,
  BaseApiResponse,
  MultiTenantContext,
  CreateRequest,
  CreateResponse,
  GetRequest,
  GetResponse
} from '../shared';

// Migration Strategy APIs
export interface CreateMigrationStrategyRequest extends CreateRequest<MigrationStrategyData> {
  flowId: string;
  data: MigrationStrategyData;
  assessmentInputs: AssessmentInput[];
  businessDrivers: BusinessDriver[];
  constraints: StrategyConstraint[];
  successCriteria: SuccessCriteria[];
  generateAlternatives?: boolean;
  includeRiskAnalysis?: boolean;
  includeCostAnalysis?: boolean;
}

export interface CreateMigrationStrategyResponse extends CreateResponse<MigrationStrategyResult> {
  data: MigrationStrategyResult;
  strategyId: string;
  alternatives: MigrationAlternative[];
  riskAnalysis?: StrategyRiskAnalysis;
  costAnalysis?: StrategyCostAnalysis;
  feasibilityAssessment: FeasibilityAssessment;
}

export interface GetMigrationStrategyRequest extends GetRequest {
  strategyId: string;
  includeDetails?: boolean;
  includeAlternatives?: boolean;
  includeAnalysis?: boolean;
  includeComparison?: boolean;
}

export interface GetMigrationStrategyResponse extends GetResponse<MigrationStrategyResult> {
  data: MigrationStrategyResult;
  detailedAnalysis: StrategyAnalysis;
  comparisonMatrix?: StrategyComparison;
  recommendations: StrategyRecommendation[];
}

export interface CompareMigrationStrategiesRequest extends BaseApiRequest {
  strategyIds: string[];
  comparisonCriteria: ComparisonCriteria[];
  weightings?: Record<string, number>;
  includeScoring?: boolean;
  context: MultiTenantContext;
}

export interface CompareMigrationStrategiesResponse extends BaseApiResponse<StrategyComparison> {
  data: StrategyComparison;
  scoredComparison?: ScoredComparison;
  recommendation: string;
  reasoning: string;
}

// Core Data Types
export interface MigrationStrategyData {
  id: string;
  name: string;
  description: string;
  strategyType: 'lift_and_shift' | 'refactor' | 'rearchitect' | 'rebuild' | 'replace' | 'hybrid';
  approach: 'big_bang' | 'phased' | 'parallel' | 'pilot';
  scope: StrategyScope;
  timeline: StrategyTimeline;
  resources: StrategyResources;
  technology: TechnologyStrategy;
  businessCase: BusinessCase;
  dependencies: StrategyDependency[];
  assumptions: StrategyAssumption[];
  constraints: StrategyConstraint[];
  metadata: Record<string, any>;
}

export interface MigrationStrategyResult {
  id: string;
  strategyData: MigrationStrategyData;
  feasibilityScore: number;
  riskScore: number;
  costEstimate: number;
  timelineEstimate: number;
  confidenceLevel: number;
  alternatives: MigrationAlternative[];
  recommendations: string[];
  nextSteps: string[];
  approvalRequired: boolean;
}

export interface MigrationAlternative {
  id: string;
  name: string;
  description: string;
  strategyType: string;
  approach: string;
  advantages: string[];
  disadvantages: string[];
  feasibilityScore: number;
  riskScore: number;
  costEstimate: number;
  timelineEstimate: number;
  effort: 'low' | 'medium' | 'high' | 'very_high';
  complexity: 'low' | 'medium' | 'high' | 'very_high';
  recommendation: 'recommended' | 'viable' | 'not_recommended';
}

export interface StrategyScope {
  applications: ApplicationScope[];
  infrastructure: InfrastructureScope[];
  data: DataScope[];
  integrations: IntegrationScope[];
  security: SecurityScope;
  compliance: ComplianceScope;
  geography: string[];
  businessUnits: string[];
}

export interface StrategyTimeline {
  phases: StrategyPhase[];
  milestones: StrategyMilestone[];
  dependencies: PhaseDependency[];
  criticalPath: string[];
  bufferTime: number;
  totalDuration: number;
}

export interface StrategyResources {
  teams: TeamRequirement[];
  skills: SkillRequirement[];
  tools: ToolRequirement[];
  infrastructure: InfrastructureRequirement[];
  budget: BudgetRequirement;
  vendors: VendorRequirement[];
}

export interface TechnologyStrategy {
  targetPlatform: string;
  architecture: ArchitectureStrategy;
  frameworks: FrameworkStrategy[];
  databases: DatabaseStrategy[];
  integration: IntegrationStrategy;
  security: SecurityStrategy;
  monitoring: MonitoringStrategy;
  deployment: DeploymentStrategy;
}

export interface BusinessCase {
  objectives: BusinessObjective[];
  benefits: BusinessBenefit[];
  costs: BusinessCost[];
  risks: BusinessRisk[];
  roi: ROIAnalysis;
  paybackPeriod: number;
  npv: number;
  irr: number;
  breakEvenPoint: number;
}

// Assessment and Driver Types
export interface AssessmentInput {
  id: string;
  type: 'application' | 'infrastructure' | 'data' | 'process' | 'business';
  source: string;
  data: Record<string, any>;
  confidence: number;
  timestamp: string;
  validator?: string;
}

export interface BusinessDriver {
  id: string;
  name: string;
  description: string;
  category: 'cost_reduction' | 'agility' | 'scalability' | 'innovation' | 'compliance' | 'risk_mitigation';
  priority: 'low' | 'medium' | 'high' | 'critical';
  impact: 'low' | 'medium' | 'high' | 'very_high';
  urgency: 'low' | 'medium' | 'high' | 'immediate';
  measurable: boolean;
  metrics: DriverMetric[];
}

export interface SuccessCriteria {
  id: string;
  name: string;
  description: string;
  category: string;
  measurable: boolean;
  metrics: CriteriaMetric[];
  targetValue: any;
  minimumAcceptable: any;
  weight: number;
}

export interface StrategyConstraint {
  id: string;
  type: 'time' | 'budget' | 'resource' | 'technical' | 'regulatory' | 'business' | 'security';
  description: string;
  value: any;
  flexibility: 'fixed' | 'flexible' | 'negotiable';
  impact: 'low' | 'medium' | 'high' | 'critical';
  mitigation?: string;
}

// Analysis Types
export interface StrategyRiskAnalysis {
  risks: StrategyRisk[];
  riskScore: number;
  riskLevel: 'low' | 'medium' | 'high' | 'critical';
  mitigationStrategies: RiskMitigation[];
  contingencyPlans: ContingencyPlan[];
  probabilityOfSuccess: number;
}

export interface StrategyCostAnalysis {
  totalCost: number;
  costBreakdown: CostBreakdown[];
  costVariances: CostVariance[];
  costSensitivity: CostSensitivity[];
  fundingOptions: FundingOption[];
  paymentSchedule: PaymentSchedule[];
}

export interface FeasibilityAssessment {
  overallFeasibility: 'high' | 'medium' | 'low' | 'not_feasible';
  technicalFeasibility: TechnicalFeasibility;
  businessFeasibility: BusinessFeasibility;
  operationalFeasibility: OperationalFeasibility;
  resourceFeasibility: ResourceFeasibility;
  constraints: FeasibilityConstraint[];
  recommendations: FeasibilityRecommendation[];
}

export interface StrategyAnalysis {
  strengthsWeaknessesOpportunitiesThreats: SWOTAnalysis;
  competitiveAnalysis: CompetitiveAnalysis;
  stakeholderAnalysis: StakeholderAnalysis;
  impactAnalysis: StrategyImpactAnalysis;
  sensitivityAnalysis: StrategySensitivityAnalysis;
  scenarioAnalysis: ScenarioAnalysis;
}

// Comparison Types
export interface StrategyComparison {
  strategies: string[];
  criteria: ComparisonCriteria[];
  comparisonMatrix: ComparisonMatrix;
  rankings: StrategyRanking[];
  recommendations: ComparisonRecommendation[];
  decisionTree: DecisionNode[];
}

export interface ComparisonCriteria {
  id: string;
  name: string;
  description: string;
  category: string;
  weight: number;
  scale: 'numeric' | 'categorical' | 'boolean';
  scaleDefinition: ScaleDefinition;
}

export interface ScoredComparison {
  totalScores: Record<string, number>;
  categoryScores: Record<string, Record<string, number>>;
  normalizedScores: Record<string, number>;
  rankings: StrategyRanking[];
  sensitivityAnalysis: ComparisonSensitivity[];
}

export interface StrategyRecommendation {
  id: string;
  title: string;
  description: string;
  category: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
  rationale: string;
  benefits: string[];
  risks: string[];
  effort: string;
  timeline: string;
  dependencies: string[];
}

// Supporting Detail Types
export interface ApplicationScope {
  applicationId: string;
  name: string;
  migrationApproach: string;
  priority: number;
  complexity: string;
  dependencies: string[];
}

export interface InfrastructureScope {
  componentId: string;
  name: string;
  type: string;
  migrationApproach: string;
  dependencies: string[];
}

export interface DataScope {
  datasetId: string;
  name: string;
  type: string;
  size: number;
  migrationApproach: string;
  sensitivity: string;
}

export interface IntegrationScope {
  integrationId: string;
  name: string;
  type: string;
  systems: string[];
  approach: string;
}

export interface SecurityScope {
  requirements: SecurityRequirement[];
  compliance: ComplianceRequirement[];
  risks: SecurityRisk[];
  controls: SecurityControl[];
}

export interface ComplianceScope {
  frameworks: ComplianceFramework[];
  requirements: ComplianceRequirement[];
  audits: ComplianceAudit[];
  certifications: Certification[];
}

export interface StrategyPhase {
  id: string;
  name: string;
  description: string;
  duration: number;
  startDate?: string;
  endDate?: string;
  deliverables: string[];
  dependencies: string[];
  resources: PhaseResource[];
}

export interface StrategyMilestone {
  id: string;
  name: string;
  description: string;
  date: string;
  type: 'delivery' | 'decision' | 'approval' | 'checkpoint';
  criteria: string[];
  dependencies: string[];
}

export interface PhaseDependency {
  id: string;
  predecessorPhase: string;
  successorPhase: string;
  type: 'finish_to_start' | 'start_to_start' | 'finish_to_finish' | 'start_to_finish';
  lag: number;
}

// Additional supporting types
export interface TeamRequirement {
  teamId: string;
  role: string;
  size: number;
  skills: string[];
  duration: number;
  availability: number;
}

export interface SkillRequirement {
  skill: string;
  level: 'beginner' | 'intermediate' | 'advanced' | 'expert';
  quantity: number;
  duration: number;
  critical: boolean;
}

export interface ToolRequirement {
  tool: string;
  type: string;
  licenses: number;
  duration: number;
  cost: number;
}

export interface InfrastructureRequirement {
  component: string;
  type: string;
  specifications: Record<string, any>;
  duration: number;
  cost: number;
}

export interface BudgetRequirement {
  totalBudget: number;
  categories: BudgetCategory[];
  contingency: number;
  currency: string;
  approval: string;
}

export interface VendorRequirement {
  vendor: string;
  service: string;
  duration: number;
  cost: number;
  contractType: string;
}

export interface ArchitectureStrategy {
  style: string;
  patterns: string[];
  principles: string[];
  constraints: string[];
}

export interface FrameworkStrategy {
  framework: string;
  version: string;
  usage: string;
  migration: string;
}

export interface DatabaseStrategy {
  database: string;
  version: string;
  migrationApproach: string;
  dataStrategy: string;
}

export interface IntegrationStrategy {
  approach: string;
  patterns: string[];
  protocols: string[];
  tools: string[];
}

export interface SecurityStrategy {
  model: string;
  standards: string[];
  controls: string[];
  monitoring: string[];
}

export interface MonitoringStrategy {
  approach: string;
  tools: string[];
  metrics: string[];
  alerting: string[];
}

export interface DeploymentStrategy {
  model: string;
  automation: string[];
  environments: string[];
  rollback: string;
}

export interface BusinessObjective {
  id: string;
  name: string;
  description: string;
  measurable: boolean;
  metrics: ObjectiveMetric[];
  target: any;
  timeline: string;
}

export interface BusinessBenefit {
  id: string;
  name: string;
  description: string;
  category: string;
  type: 'tangible' | 'intangible';
  value: number;
  timeline: string;
  confidence: number;
}

export interface BusinessCost {
  id: string;
  name: string;
  category: string;
  amount: number;
  timing: string;
  recurrence: 'one_time' | 'monthly' | 'quarterly' | 'annually';
}

export interface BusinessRisk {
  id: string;
  name: string;
  description: string;
  category: string;
  probability: number;
  impact: number;
  mitigation: string;
}

export interface ROIAnalysis {
  investment: number;
  returns: number[];
  timeframe: number;
  roi: number;
  npv: number;
  irr: number;
}

// Additional analysis types
export interface StrategyRisk {
  id: string;
  name: string;
  description: string;
  category: string;
  probability: number;
  impact: number;
  riskScore: number;
  mitigation: string;
}

export interface RiskMitigation {
  riskId: string;
  strategy: string;
  actions: string[];
  owner: string;
  timeline: string;
  cost: number;
}

export interface ContingencyPlan {
  id: string;
  trigger: string;
  actions: string[];
  resources: string[];
  timeline: string;
}

export interface CostBreakdown {
  category: string;
  amount: number;
  percentage: number;
  confidence: number;
}

export interface CostVariance {
  category: string;
  baseline: number;
  optimistic: number;
  pessimistic: number;
  expected: number;
}

export interface CostSensitivity {
  parameter: string;
  impact: number;
  elasticity: number;
}

export interface FundingOption {
  option: string;
  amount: number;
  terms: string;
  cost: number;
  availability: string;
}

export interface PaymentSchedule {
  milestone: string;
  amount: number;
  date: string;
  conditions: string[];
}

export interface TechnicalFeasibility {
  score: number;
  factors: FeasibilityFactor[];
  constraints: string[];
  risks: string[];
}

export interface BusinessFeasibility {
  score: number;
  factors: FeasibilityFactor[];
  constraints: string[];
  risks: string[];
}

export interface OperationalFeasibility {
  score: number;
  factors: FeasibilityFactor[];
  constraints: string[];
  risks: string[];
}

export interface ResourceFeasibility {
  score: number;
  factors: FeasibilityFactor[];
  constraints: string[];
  risks: string[];
}

export interface FeasibilityConstraint {
  type: string;
  description: string;
  severity: 'low' | 'medium' | 'high' | 'critical';
  impact: string;
}

export interface FeasibilityRecommendation {
  type: string;
  description: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
  effort: string;
}

export interface FeasibilityFactor {
  name: string;
  weight: number;
  score: number;
  rationale: string;
}

// Analysis supporting types
export interface SWOTAnalysis {
  strengths: string[];
  weaknesses: string[];
  opportunities: string[];
  threats: string[];
}

export interface CompetitiveAnalysis {
  competitors: Competitor[];
  positioning: string;
  advantages: string[];
  disadvantages: string[];
}

export interface StakeholderAnalysis {
  stakeholders: Stakeholder[];
  influence: string[];
  support: string[];
  concerns: string[];
}

export interface StrategyImpactAnalysis {
  areas: ImpactArea[];
  magnitude: 'low' | 'medium' | 'high' | 'very_high';
  timeline: string;
  dependencies: string[];
}

export interface StrategySensitivityAnalysis {
  variables: SensitivityVariable[];
  scenarios: SensitivityScenario[];
  results: SensitivityResult[];
}

export interface ScenarioAnalysis {
  scenarios: Scenario[];
  outcomes: ScenarioOutcome[];
  probabilities: number[];
  recommendations: string[];
}

// Comparison supporting types
export interface ComparisonMatrix {
  strategies: string[];
  criteria: string[];
  scores: number[][];
  weights: number[];
}

export interface StrategyRanking {
  strategyId: string;
  rank: number;
  score: number;
  confidence: number;
}

export interface ComparisonRecommendation {
  strategyId: string;
  recommendation: 'recommended' | 'viable' | 'not_recommended';
  rationale: string;
  conditions: string[];
}

export interface DecisionNode {
  id: string;
  question: string;
  options: DecisionOption[];
  recommendation: string;
}

export interface DecisionOption {
  value: string;
  nextNode: string;
  outcome?: string;
}

export interface ScaleDefinition {
  type: 'numeric' | 'categorical' | 'boolean';
  min?: number;
  max?: number;
  categories?: string[];
  description: string;
}

export interface ComparisonSensitivity {
  criteria: string;
  impact: number;
  threshold: number;
}

// Placeholder types for metrics
export interface DriverMetric {
  name: string;
  baseline: number;
  target: number;
  unit: string;
}

export interface CriteriaMetric {
  name: string;
  baseline: number;
  target: number;
  unit: string;
}

export interface ObjectiveMetric {
  name: string;
  baseline: number;
  target: number;
  unit: string;
}

export interface BudgetCategory {
  category: string;
  amount: number;
  percentage: number;
}

export interface PhaseResource {
  type: string;
  quantity: number;
  duration: number;
}

export interface SecurityRequirement {
  id: string;
  requirement: string;
  priority: string;
}

export interface ComplianceRequirement {
  id: string;
  framework: string;
  requirement: string;
  priority: string;
}

export interface SecurityRisk {
  id: string;
  risk: string;
  severity: string;
}

export interface SecurityControl {
  id: string;
  control: string;
  type: string;
}

export interface ComplianceFramework {
  name: string;
  version: string;
  applicability: string[];
}

export interface ComplianceAudit {
  id: string;
  framework: string;
  status: string;
  date: string;
}

export interface Certification {
  name: string;
  authority: string;
  validUntil: string;
}

export interface StrategyDependency {
  id: string;
  type: string;
  description: string;
  impact: string;
}

export interface StrategyAssumption {
  id: string;
  description: string;
  confidence: number;
  impact: string;
}

// Additional supporting types
export interface Competitor {
  name: string;
  strengths: string[];
  weaknesses: string[];
  marketShare: number;
}

export interface Stakeholder {
  name: string;
  role: string;
  influence: 'low' | 'medium' | 'high';
  support: 'opposed' | 'neutral' | 'supportive';
}

export interface ImpactArea {
  area: string;
  impact: 'low' | 'medium' | 'high' | 'very_high';
  description: string;
}

export interface SensitivityVariable {
  name: string;
  baseValue: number;
  range: number[];
  impact: string;
}

export interface SensitivityScenario {
  name: string;
  variables: Record<string, number>;
  description: string;
}

export interface SensitivityResult {
  scenario: string;
  outcome: Record<string, number>;
  variance: number;
}

export interface Scenario {
  name: string;
  description: string;
  assumptions: string[];
  probability: number;
}

export interface ScenarioOutcome {
  scenario: string;
  outcomes: Record<string, any>;
  probability: number;
  impact: string;
}