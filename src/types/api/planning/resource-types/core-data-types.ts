/**
 * Core Resource Planning Data Types
 *
 * Core data models for resource planning including resource plans,
 * scope, duration, and primary planning data structures.
 *
 * Generated by CC - Claude Code
 */

import type { AuditableMetadata } from '../../../shared/metadata-types';
import type {
  ResourceType,
  SkillRequirement,
  AvailabilityConstraint,
  BudgetConstraint,
  RequiredSkill,
  AvailabilityRequirement,
  CostRequirement,
  LocationRequirement,
  TimingRequirement,
  FlexibilityOptions,
  AlternativeResource,
  AllocationConstraint,
  ResourceConstraint,
  ResourceAssumption,
  ResourcePolicy
} from './resource-types-and-constraints';
import type { ResourceTeam } from './allocation-and-teams';
import type { SkillMatrix } from './skills-management';
import type { ResourceBudget } from './budget-and-costs';

// Core Data Types
export interface ResourcePlanData {
  id: string;
  name: string;
  description: string;
  scope: ResourceScope;
  duration: ResourceDuration;
  requirements: ResourceRequirement[];
  allocations: ResourceAllocation[];
  teams: ResourceTeam[];
  skills: SkillMatrix;
  budget: ResourceBudget;
  constraints: ResourceConstraint[];
  assumptions: ResourceAssumption[];
  policies: ResourcePolicy[];
  metadata: AuditableMetadata;
}

export interface ResourcePlanResult {
  id: string;
  resourcePlanData: ResourcePlanData;
  feasibilityScore: number;
  utilizationScore: number;
  costEfficiency: number;
  skillsCoverage: number;
  riskScore: number;
  alternatives: ResourceAlternative[];
  recommendations: ResourceRecommendation[];
  gaps: ResourceGap[];
  conflicts: ResourceConflict[];
}

export interface ResourceScope {
  phases: string[];
  workstreams: string[];
  locations: string[];
  departments: string[];
  vendors: string[];
  timeframe: {
    start: string;
    end: string;
  };
  budget: {
    total: number;
    allocated: number;
    currency: string;
  };
}

export interface ResourceDuration {
  totalDuration: number;
  workingDays: number;
  phases: PhaseDuration[];
  milestones: string[];
  buffers: DurationBuffer[];
}

export interface ResourceRequirement {
  id: string;
  name: string;
  type: ResourceType;
  category: 'human' | 'technical' | 'physical' | 'financial';
  quantity: number;
  duration: number;
  effort: number;
  skills: RequiredSkill[];
  availability: AvailabilityRequirement;
  cost: CostRequirement;
  location: LocationRequirement;
  timing: TimingRequirement;
  flexibility: FlexibilityOptions;
  alternatives: AlternativeResource[];
}

export interface ResourceAllocation {
  id: string;
  resourceId: string;
  requirementId: string;
  allocation: number;
  startDate: string;
  endDate: string;
  effort: number;
  cost: number;
  role: string;
  responsibilities: string[];
  deliverables: string[];
  dependencies: string[];
  constraints: AllocationConstraint[];
  status: 'planned' | 'confirmed' | 'active' | 'completed' | 'cancelled';
}

// Supporting Detail Types
export interface PhaseDuration {
  phaseId: string;
  duration: number;
  startDate: string;
  endDate: string;
  resources: number;
}

export interface DurationBuffer {
  type: 'contingency' | 'management' | 'technical';
  percentage: number;
  days: number;
  rationale: string;
}

export interface ResourceConflict {
  type: 'availability' | 'skill' | 'location' | 'cost' | 'priority';
  resources: string[];
  description: string;
  impact: 'low' | 'medium' | 'high' | 'critical';
  resolution: ConflictResolution[];
  timeline: string;
}

export interface ConflictResolution {
  option: string;
  description: string;
  impact: string;
  cost: number;
  feasibility: string;
  timeline: string;
}

export interface ResourceAlternative {
  id: string;
  name: string;
  description: string;
  cost: number;
  feasibility: string;
  advantages: string[];
  disadvantages: string[];
  recommendation: 'recommended' | 'viable' | 'not_recommended';
}

export interface ResourceRecommendation {
  type: string;
  description: string;
  rationale: string;
  impact: string;
  effort: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
  timeline: string;
}

export interface ResourceGap {
  type: 'availability' | 'skill' | 'cost' | 'location' | 'timing';
  description: string;
  impact: 'low' | 'medium' | 'high' | 'critical';
  resolution: GapResolution[];
  timeline: string;
}

export interface GapResolution {
  option: string;
  description: string;
  cost: number;
  timeline: string;
  feasibility: string;
  risk: string;
}

// Re-export dependent types for convenience
export type {
  ResourceType,
  SkillRequirement,
  AvailabilityConstraint,
  BudgetConstraint,
  RequiredSkill,
  AvailabilityRequirement,
  CostRequirement,
  LocationRequirement,
  TimingRequirement,
  FlexibilityOptions,
  AlternativeResource,
  AllocationConstraint,
  ResourceConstraint,
  ResourceAssumption,
  ResourcePolicy
} from './resource-types-and-constraints';
