/**
 * FinOps Optimization Types
 *
 * Type definitions for optimization opportunities, strategies, priorities, and active optimizations.
 * Covers all optimization-related data structures for FinOps flows.
 *
 * Generated by CC - Modularized from flow-management.ts
 */

import type { ConfigurationValue } from '../../../shared/config-types';
import type { CostSavings } from './cost-types';

export interface OptimizationOpportunity {
  id: string;
  type: 'rightsizing' | 'reserved_instances' | 'spot_instances' | 'resource_termination' | 'service_optimization';
  name: string;
  description: string;
  potentialSavings: CostSavings;
  implementation: ImplementationDetails;
  risk: RiskAssessment;
  confidence: number;
  recommendedAction: string;
}

export interface ImplementationDetails {
  steps: string[];
  timeline: string;
  effort: 'low' | 'medium' | 'high';
  automatable: boolean;
  dependencies: string[];
}

export interface RiskAssessment {
  level: 'low' | 'medium' | 'high';
  factors: string[];
  mitigations: string[];
}

export interface ActiveOptimization {
  id: string;
  type: string;
  status: 'planning' | 'implementing' | 'monitoring' | 'completed';
  startDate: string;
  targetSavings: number;
  actualSavings?: number;
  progress: number;
  tasks: OptimizationTask[];
}

export interface OptimizationTask {
  id: string;
  name: string;
  status: 'pending' | 'in_progress' | 'completed' | 'blocked';
  assignee?: string;
  dueDate?: string;
  blockers?: string[];
}

export interface OptimizationStatus {
  active: number;
  completed: number;
  totalSavings: number;
  successRate: number;
  topOpportunities: OptimizationOpportunity[];
}

export interface OptimizationStrategy {
  type: string;
  enabled: boolean;
  parameters: Record<string, ConfigurationValue>;
  exclusions: string[];
}

export interface OptimizationPriority {
  factor: string;
  weight: number;
  constraint?: string;
}

export interface OptimizationConstraint {
  type: string;
  value: ConfigurationValue;
  enforcement: 'hard' | 'soft';
}

export interface OptimizationTarget {
  metric: string;
  target: number;
  timeframe: string;
}
