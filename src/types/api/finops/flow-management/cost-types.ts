/**
 * FinOps Cost Types
 *
 * Type definitions for cost analysis, baselines, breakdowns, and forecasting.
 * Covers all cost-related data structures for FinOps flows.
 *
 * Generated by CC - Modularized from flow-management.ts
 */

import type { CostAnalysis as BaseCostAnalysis } from '../../../shared/analysis-types';

export interface CostBaseline {
  period: string;
  totalCost: number;
  currency: string;
  byService: ServiceCost[];
  byAccount: AccountCost[];
  byRegion: RegionCost[];
  byCostCenter: CostCenterCost[];
  trends: CostTrend[];
  anomalies: CostAnomaly[];
}

export interface ServiceCost {
  service: string;
  cost: number;
  percentage: number;
  change: number;
}

export interface AccountCost {
  accountId: string;
  accountName: string;
  cost: number;
  percentage: number;
}

export interface RegionCost {
  region: string;
  cost: number;
  percentage: number;
}

export interface CostCenterCost {
  costCenter: string;
  cost: number;
  budget: number;
  variance: number;
}

export interface CostTrend {
  metric: string;
  direction: 'up' | 'down' | 'stable';
  percentage: number;
  period: string;
}

export interface CostAnomaly {
  id: string;
  service: string;
  amount: number;
  deviation: number;
  reason?: string;
  detected: string;
}

export interface CostAnalysis extends BaseCostAnalysis {
  period: string;
  actualCost: number;
  budgetedCost: number;
  variance: number;
  forecast: number;
  breakdown: CostBreakdown;
  drivers: CostDriver[];
  recommendations: string[];
}

export interface CostBreakdown {
  byService: Record<string, number>;
  byAccount: Record<string, number>;
  byRegion: Record<string, number>;
  byTag: Record<string, number>;
  byResource: Record<string, number>;
}

export interface CostDriver {
  factor: string;
  impact: number;
  trend: 'increasing' | 'decreasing' | 'stable';
  action: string;
}

export interface CostSavings {
  monthly: number;
  annual: number;
  percentage: number;
  currency: string;
}

export interface CostForecast {
  period: string;
  forecast: number;
  confidence: number;
  methodology: string;
  assumptions: string[];
  range: { min: number; max: number };
  drivers: ForecastDriver[];
}

export interface ForecastDriver {
  factor: string;
  impact: number;
  trend: string;
}

export interface CostSummary {
  current: number;
  budget: number;
  forecast: number;
  savings: number;
  currency: string;
}
