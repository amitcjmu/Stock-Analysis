/**
 * FinOps Validation and Quality Gate Types
 * 
 * Validation strategies, quality gates, acceptance criteria, and testing
 * types for FinOps execution workflows.
 * 
 * Generated by CC (Claude Code) - Modularized from execution-types.ts
 */

// Validation and Quality Gates
export interface ValidationPlan {
  preExecution: ValidationGroup[];
  duringExecution: ValidationGroup[];
  postExecution: ValidationGroup[];
  continuous: ValidationGroup[];
  qualityGates: QualityGate[];
}

export interface ValidationGroup {
  id: string;
  name: string;
  description: string;
  validations: ValidationCheck[];
  required: boolean;
  parallelExecution: boolean;
}

export interface ValidationCheck {
  id: string;
  name: string;
  type: 'automated' | 'manual' | 'hybrid';
  description: string;
  criteria: ValidationCriteria[];
  timeout?: string;
  retryPolicy?: RetryPolicy;
  escalation?: EscalationPolicy;
}

export interface ValidationCriteria {
  metric: string;
  operator: string;
  value: unknown;
  tolerance?: number;
  unit?: string;
  critical: boolean;
}

export interface QualityGate {
  id: string;
  name: string;
  phase: string;
  criteria: QualityGateCriteria[];
  action: 'continue' | 'pause' | 'rollback' | 'escalate';
  required: boolean;
}

export interface QualityGateCriteria {
  metric: string;
  threshold: number;
  operator: string;
  weight: number;
  critical: boolean;
}

// Error Handling and Retry Policies
export interface RetryPolicy {
  enabled: boolean;
  maxRetries: number;
  backoff: BackoffStrategy;
  conditions: RetryCondition[];
  timeout: string;
}

export interface BackoffStrategy {
  type: 'fixed' | 'linear' | 'exponential' | 'custom';
  initialDelay: string;
  maxDelay: string;
  multiplier?: number;
  jitter?: boolean;
}

export interface RetryCondition {
  errorType: string;
  errorCode?: string;
  retryable: boolean;
  maxRetries?: number;
}

export interface EscalationPolicy {
  enabled: boolean;
  levels: EscalationLevel[];
  timeout: string;
  finalAction: string;
}

export interface EscalationLevel {
  level: number;
  escalateTo: string[];
  timeout: string;
  conditions: string[];
  actions: string[];
}
