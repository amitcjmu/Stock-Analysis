/**
 * FinOps Rollback and Recovery Types
 * 
 * Rollback strategies, triggers, procedures, and recovery mechanisms
 * for FinOps execution workflows.
 * 
 * Generated by CC (Claude Code) - Modularized from execution-types.ts
 */

// Rollback and Recovery Types
export interface RollbackPlan {
  enabled: boolean;
  strategy: 'automatic' | 'manual' | 'hybrid';
  triggers: RollbackTrigger[];
  procedures: RollbackProcedure[];
  timeline: string;
  dataBackup: BackupStrategy[];
  validation: RollbackValidation;
  communication: CommunicationPlan;
}

export interface RollbackTrigger {
  id: string;
  type: 'performance_degradation' | 'cost_increase' | 'availability_impact' | 'manual' | 'quality_gate_failure';
  condition: string;
  threshold?: any;
  automated: boolean;
  description: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
}

export interface RollbackProcedure {
  step: number;
  name: string;
  description: string;
  type: 'automated' | 'manual';
  commands?: string[];
  validation: string;
  rollbackTime: string;
  dependencies: string[];
  risks: RollbackRisk[];
}

export interface RollbackRisk {
  type: string;
  description: string;
  likelihood: 'low' | 'medium' | 'high';
  impact: 'low' | 'medium' | 'high';
  mitigation: string;
}

export interface BackupStrategy {
  type: 'data' | 'configuration' | 'state' | 'full_system';
  schedule: string;
  retention: string;
  location: string;
  encryption: boolean;
  verification: boolean;
}

export interface RollbackValidation {
  checks: ValidationCheck[];
  criteria: string[];
  timeout: string;
  failureAction: 'escalate' | 'manual_intervention' | 'abort';
}

// Forward declaration for types used from other modules
export interface ValidationCheck {
  id: string;
  name: string;
  type: string;
  description: string;
  criteria: any[];
}

export interface CommunicationPlan {
  stakeholders: any[];
  channels: any[];
  templates: any[];
  schedules: any[];
  escalation: any[];
}
