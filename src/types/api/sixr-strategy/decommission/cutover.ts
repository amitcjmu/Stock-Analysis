/**
 * Decommission Cutover Types
 *
 * Type definitions for cutover strategy, validation, monitoring, and communication.
 * Generated by CC (Claude Code) - Modularized from decommission/index.ts
 */

import type { ThresholdValue } from '../../shared/value-types';
import type { CommunicationPlan } from '../shared';

/**
 * Cutover strategy for decommission
 */
export interface CutoverStrategy {
  type: 'immediate' | 'gradual' | 'pilot' | 'parallel_run';
  sequence: CutoverSequence[];
  validation: CutoverValidation;
  rollback: CutoverRollback;
  monitoring: CutoverMonitoring;
  communication: CutoverCommunication;
}

/**
 * Cutover sequence step
 */
export interface CutoverSequence {
  step: number;
  name: string;
  description: string;
  duration: string;
  systems: string[];
  validation: string[];
  rollbackPoint: boolean;
  noGoConditions: string[];
}

/**
 * Cutover validation checks
 */
export interface CutoverValidation {
  preCutover: ValidationCheck[];
  duringCutover: ValidationCheck[];
  postCutover: ValidationCheck[];
  successCriteria: string[];
  failureCriteria: string[];
}

/**
 * Validation check configuration
 */
export interface ValidationCheck {
  name: string;
  type: 'automated' | 'manual';
  description: string;
  timeout: string;
  retries: number;
  escalation: string;
}

/**
 * Cutover rollback plan
 */
export interface CutoverRollback {
  triggers: RollbackTrigger[];
  procedures: RollbackProcedure[];
  timeline: string;
  communication: string[];
  validation: string[];
}

/**
 * Rollback trigger condition
 */
export interface RollbackTrigger {
  condition: string;
  threshold: ThresholdValue;
  automatic: boolean;
  approver?: string;
  timeframe: string;
}

/**
 * Rollback procedure step
 */
export interface RollbackProcedure {
  step: number;
  description: string;
  type: 'automatic' | 'manual';
  duration: string;
  validation: string[];
  dependencies: string[];
}

/**
 * Cutover monitoring configuration
 */
export interface CutoverMonitoring {
  metrics: MonitoringMetric[];
  dashboards: string[];
  alerts: AlertConfiguration[];
  reporting: MonitoringReporting;
}

/**
 * Monitoring metric definition
 */
export interface MonitoringMetric {
  name: string;
  type: 'performance' | 'availability' | 'data_integrity' | 'user_activity';
  threshold: MetricThreshold;
  frequency: string;
  escalation: string;
}

/**
 * Metric threshold configuration
 */
export interface MetricThreshold {
  warning: number;
  critical: number;
  operator: 'gt' | 'lt' | 'eq' | 'gte' | 'lte';
}

/**
 * Alert configuration
 */
export interface AlertConfiguration {
  name: string;
  condition: string;
  severity: 'info' | 'warning' | 'error' | 'critical';
  recipients: string[];
  escalation: AlertEscalation[];
}

/**
 * Alert escalation levels
 */
export interface AlertEscalation {
  level: number;
  delay: string;
  recipients: string[];
  actions: string[];
}

/**
 * Monitoring reporting configuration
 */
export interface MonitoringReporting {
  frequency: string;
  recipients: string[];
  format: string;
  content: string[];
  escalation: string[];
}

/**
 * Cutover communication plan
 */
export interface CutoverCommunication {
  plan: CommunicationPlan;
  notifications: NotificationPlan[];
  updates: UpdateSchedule[];
  escalation: CommunicationEscalation[];
}

/**
 * Notification plan for events
 */
export interface NotificationPlan {
  event: string;
  timing: string;
  recipients: string[];
  channels: string[];
  template: string;
}

/**
 * Update schedule configuration
 */
export interface UpdateSchedule {
  frequency: string;
  recipients: string[];
  content: string[];
  channels: string[];
}

/**
 * Communication escalation plan
 */
export interface CommunicationEscalation {
  trigger: string;
  recipients: string[];
  channels: string[];
  template: string;
  timing: string;
}
