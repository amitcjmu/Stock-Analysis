/**
 * Decommission Data Migration Types
 *
 * Type definitions for data migration strategy, handling, validation, and tools.
 * Generated by CC (Claude Code) - Modularized from decommission/index.ts
 */

import type { ParameterValue } from '../../shared/value-types';
import type { GenericConfiguration } from '../../shared/configuration-types';

/**
 * Data migration strategy for decommission
 */
export interface DataMigrationStrategy {
  approach: 'extract_archive' | 'migrate_transform' | 'selective_migration' | 'real_time_sync';
  dataHandling: DataHandlingApproach[];
  migrationTools: MigrationTool[];
  validation: DataValidationStrategy;
  rollback: DataRollbackStrategy;
  timeline: DataMigrationTimeline;
}

/**
 * Approach for handling specific data types
 */
export interface DataHandlingApproach {
  dataType: string;
  approach: 'migrate' | 'archive' | 'delete' | 'anonymize' | 'transform';
  destination: string;
  transformation: DataTransformation[];
  validation: string[];
  timeline: string;
}

/**
 * Data transformation specification
 */
export interface DataTransformation {
  type: 'format' | 'structure' | 'content' | 'anonymization';
  description: string;
  rules: TransformationRule[];
  validation: string[];
  reversible: boolean;
}

/**
 * Transformation rule for data field
 */
export interface TransformationRule {
  field: string;
  action: string;
  parameters: Record<string, ParameterValue>;
  condition?: string;
}

/**
 * Migration tool configuration
 */
export interface MigrationTool {
  name: string;
  type: 'etl' | 'replication' | 'custom' | 'manual';
  capabilities: string[];
  limitations: string[];
  configuration: GenericConfiguration;
  performance: ToolPerformance;
}

/**
 * Tool performance characteristics
 */
export interface ToolPerformance {
  throughput: string;
  concurrency: number;
  reliability: number;
  scalability: string;
}

/**
 * Data validation strategy
 */
export interface DataValidationStrategy {
  levels: ValidationLevel[];
  methods: ValidationMethod[];
  acceptance: AcceptanceCriteria[];
  reporting: ValidationReporting;
}

/**
 * Level of validation to perform
 */
export interface ValidationLevel {
  level: 'record' | 'aggregate' | 'business_rule' | 'referential_integrity';
  coverage: number;
  sampling: SamplingStrategy;
  automation: boolean;
}

/**
 * Sampling strategy for validation
 */
export interface SamplingStrategy {
  method: 'random' | 'systematic' | 'stratified' | 'complete';
  size: number;
  confidence: number;
}

/**
 * Validation method
 */
export interface ValidationMethod {
  name: string;
  type: 'comparison' | 'checksum' | 'business_rule' | 'referential';
  automated: boolean;
  tools: string[];
  reporting: string;
}

/**
 * Acceptance criteria for validation
 */
export interface AcceptanceCriteria {
  metric: string;
  threshold: number;
  mandatory: boolean;
  measurement: string;
}

/**
 * Validation reporting configuration
 */
export interface ValidationReporting {
  frequency: string;
  recipients: string[];
  format: string;
  escalation: string[];
}

/**
 * Data rollback strategy
 */
export interface DataRollbackStrategy {
  capability: 'full' | 'partial' | 'none';
  method: string[];
  timeline: string;
  triggers: string[];
  validation: string[];
  limitations: string[];
}

/**
 * Data migration timeline
 */
export interface DataMigrationTimeline {
  preparation: string;
  extraction: string;
  transformation: string;
  loading: string;
  validation: string;
  cutover: string;
  total: string;
}
