/**
 * Decommission Flow Initialization Types
 * 
 * Types for initializing and configuring decommission flows.
 * Includes request/response types, configuration options, and stakeholder management.
 * 
 * Generated by CC (Claude Code) - Modularized from decommission/index.ts
 */

import {
  BaseApiRequest,
  BaseApiResponse,
  CreateRequest,
  CreateResponse,
  MultiTenantContext
} from '../../shared';

import {
  InitializeStrategyFlowRequest,
  InitializeStrategyFlowResponse,
  StrategyScope,
  TimeRange,
  Stakeholder,
  Dependency,
  ApprovalRequirement
} from '../shared';

// Decommission-Specific Flow Initialization
export interface InitializeDecommissionFlowRequest extends InitializeStrategyFlowRequest {
  decommissionScope: DecommissionScope;
  decommissionStrategy: DecommissionStrategy;
  timeline: DecommissionTimeline;
  stakeholders: DecommissionStakeholder[];
  dependencies: DecommissionDependency[];
  configuration?: DecommissionFlowConfiguration;
}

export interface InitializeDecommissionFlowResponse extends InitializeStrategyFlowResponse {
  decommissionPlan: DecommissionPlan;
  riskAssessment: DecommissionRiskAssessment;
  approvalRequirements: ApprovalRequirement[];
}

export interface DecommissionFlowConfiguration {
  automated: boolean;
  dataRetentionRequired: boolean;
  complianceValidation: boolean;
  stakeholderApproval: boolean;
  rollbackCapability: boolean;
  archivalRequired: boolean;
  secureDisposal: boolean;
  auditTrail: boolean;
}

// Extended types for decommission-specific features
export interface DecommissionStakeholder extends Stakeholder {
  decommissionRole: 'business_owner' | 'technical_lead' | 'data_owner' | 'compliance_officer' | 'end_user';
  impactLevel: 'none' | 'low' | 'medium' | 'high' | 'critical';
  signoffRequired: boolean;
  trainingNeeded: boolean;
  alternativeProcess: string;
}

export interface DecommissionDependency extends Dependency {
  decommissionImpact: 'blocking' | 'high' | 'medium' | 'low' | 'none';
  alternativeAvailable: boolean;
  alternativeDescription?: string;
  mitigationPlan: string;
  validationRequired: boolean;
}

// Forward declarations for types defined in other modules
export interface DecommissionScope extends StrategyScope {
  systemsToDecommission: SystemInventory[];
  dataAssets: DataAsset[];
  businessProcesses: BusinessProcess[];
  integrations: SystemIntegration[];
  dependencies: SystemDependency[];
  complianceScope: ComplianceScope[];
}

export interface DecommissionStrategy {
  approach: DecommissionApproach;
  timeline: DecommissionTimeline;
  phases: DecommissionPhase[];
  dataStrategy: DataMigrationStrategy;
  cutoverStrategy: CutoverStrategy;
  riskMitigation: DecommissionRiskMitigation;
  rollbackStrategy: DecommissionRollbackStrategy;
}

export interface DecommissionTimeline {
  plannedStart: string;
  plannedEnd: string;
  phases: PhaseTimeline[];
  milestones: DecommissionMilestone[];
  dependencies: TimelineDependency[];
  bufferTime: string;
  freezePeriods: FreezePeriod[];
}

export interface DecommissionPlan {
  id: string;
  planId: string;
  name: string;
  description: string;
  approach: DecommissionApproach;
  scope: DecommissionScope;
  strategy: DecommissionStrategy;
  timeline: DecommissionTimeline;
  resources: DecommissionResources;
  risks: DecommissionRisk[];
  compliance: ComplianceRequirement[];
  stakeholders: DecommissionStakeholder[];
  dependencies: DecommissionDependency[];
  approval: DecommissionApprovalRequirement[];
  status: 'draft' | 'review' | 'approved' | 'executing' | 'completed' | 'cancelled';
  version: string;
  createdBy: string;
  createdAt: string;
  updatedAt: string;
  approvedAt?: string;
  approvedBy?: string;
}

// Re-export commonly used types
export type DecommissionApproach = 
  | 'big_bang' | 'phased' | 'parallel_run' | 'gradual_cutover' | 'pilot_rollout';

// Import placeholder interfaces (will be properly typed in their respective modules)
export interface SystemInventory { id: string; name: string; type: string; }
export interface DataAsset { id: string; name: string; type: string; }
export interface BusinessProcess { id: string; name: string; }
export interface SystemIntegration { id: string; name: string; }
export interface SystemDependency { id: string; name: string; }
export interface ComplianceScope { regulation: string; }
export interface DecommissionPhase { id: string; name: string; }
export interface DataMigrationStrategy { approach: string; }
export interface CutoverStrategy { type: string; }
export interface DecommissionRiskMitigation { strategy: string; }
export interface DecommissionRollbackStrategy { capability: string; }
export interface PhaseTimeline { phaseId: string; name: string; }
export interface DecommissionMilestone { id: string; name: string; }
export interface TimelineDependency { id: string; }
export interface FreezePeriod { name: string; }
export interface DecommissionResources { team: any[]; }
export interface DecommissionRisk { id: string; name: string; }
export interface ComplianceRequirement { regulation: string; }
export interface DecommissionApprovalRequirement { type: string; }
export interface DecommissionRiskAssessment { overallRiskLevel: string; }
