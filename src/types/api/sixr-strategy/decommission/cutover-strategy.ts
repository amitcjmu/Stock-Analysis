/**
 * Decommission Cutover Strategy Types
 * 
 * Types for cutover strategy definition, validation, rollback, monitoring,
 * and communication during system cutover operations.
 * 
 * Generated by CC (Claude Code) - Modularized from decommission/index.ts
 */

import { CommunicationPlan } from '../shared';

// Cutover Strategy Types
export interface CutoverStrategy {
  type: 'immediate' | 'gradual' | 'pilot' | 'parallel_run';
  sequence: CutoverSequence[];
  validation: CutoverValidation;
  rollback: CutoverRollback;
  monitoring: CutoverMonitoring;
  communication: CutoverCommunication;
}

export interface CutoverSequence {
  step: number;
  name: string;
  description: string;
  duration: string;
  systems: string[];
  validation: string[];
  rollbackPoint: boolean;
  noGoConditions: string[];
}

// Cutover Validation
export interface CutoverValidation {
  preCutover: ValidationCheck[];
  duringCutover: ValidationCheck[];
  postCutover: ValidationCheck[];
  successCriteria: string[];
  failureCriteria: string[];
}

export interface ValidationCheck {
  name: string;
  type: 'automated' | 'manual';
  description: string;
  timeout: string;
  retries: number;
  escalation: string;
}

// Cutover Rollback
export interface CutoverRollback {
  triggers: RollbackTrigger[];
  procedures: RollbackProcedure[];
  timeline: string;
  communication: string[];
  validation: string[];
}

export interface RollbackTrigger {
  condition: string;
  threshold: unknown;
  automatic: boolean;
  approver?: string;
  timeframe: string;
}

export interface RollbackProcedure {
  step: number;
  description: string;
  type: 'automatic' | 'manual';
  duration: string;
  validation: string[];
  dependencies: string[];
}

// Cutover Monitoring
export interface CutoverMonitoring {
  metrics: MonitoringMetric[];
  dashboards: string[];
  alerts: AlertConfiguration[];
  reporting: MonitoringReporting;
}

export interface MonitoringMetric {
  name: string;
  type: 'performance' | 'availability' | 'data_integrity' | 'user_activity';
  threshold: MetricThreshold;
  frequency: string;
  escalation: string;
}

export interface MetricThreshold {
  warning: number;
  critical: number;
  operator: 'gt' | 'lt' | 'eq' | 'gte' | 'lte';
}

export interface AlertConfiguration {
  name: string;
  condition: string;
  severity: 'info' | 'warning' | 'error' | 'critical';
  recipients: string[];
  escalation: AlertEscalation[];
}

export interface AlertEscalation {
  level: number;
  delay: string;
  recipients: string[];
  actions: string[];
}

export interface MonitoringReporting {
  frequency: string;
  recipients: string[];
  format: string;
  content: string[];
  escalation: string[];
}

// Cutover Communication
export interface CutoverCommunication {
  plan: CommunicationPlan;
  notifications: NotificationPlan[];
  updates: UpdateSchedule[];
  escalation: CommunicationEscalation[];
}

export interface NotificationPlan {
  event: string;
  timing: string;
  recipients: string[];
  channels: string[];
  template: string;
}

export interface UpdateSchedule {
  frequency: string;
  recipients: string[];
  content: string[];
  channels: string[];
}

export interface CommunicationEscalation {
  trigger: string;
  recipients: string[];
  channels: string[];
  template: string;
  timing: string;
}

// Cutover Execution Plan
export interface CutoverExecutionPlan {
  sequence: CutoverStep[];
  validation: CutoverValidationPlan;
  rollback: CutoverRollbackPlan;
  monitoring: CutoverMonitoringPlan;
  communication: CutoverCommunicationPlan;
}

export interface CutoverStep {
  id: string;
  name: string;
  description: string;
  type: 'preparation' | 'execution' | 'validation' | 'rollback';
  duration: string;
  resources: string[];
  prerequisites: string[];
  successCriteria: string[];
  rollbackTriggers: string[];
  validation: string[];
}

export interface CutoverValidationPlan {
  preValidations: ValidationCheck[];
  executionValidations: ValidationCheck[];
  postValidations: ValidationCheck[];
  criteria: string[];
  reporting: string[];
}

export interface CutoverRollbackPlan {
  enabled: boolean;
  strategy: string;
  triggers: RollbackTrigger[];
  procedures: RollbackProcedure[];
  timeline: string;
  validation: string[];
}

export interface CutoverMonitoringPlan {
  metrics: MonitoringMetric[];
  alerts: AlertConfiguration[];
  dashboards: string[];
  reporting: MonitoringReporting;
  escalation: string[];
}

export interface CutoverCommunicationPlan {
  stakeholders: string[];
  channels: string[];
  templates: string[];
  schedule: string[];
  escalation: CommunicationEscalation[];
}
