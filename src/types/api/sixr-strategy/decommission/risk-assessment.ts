/**
 * Decommission Risk Assessment Types
 * 
 * Types for comprehensive risk assessment, including data risks, system risks,
 * business risks, compliance risks, and operational risks specific to decommissioning.
 * 
 * Generated by CC (Claude Code) - Modularized from decommission/index.ts
 */

import { RiskAssessment } from '../shared';

// Decommission-Specific Risk Assessment
export interface DecommissionRiskAssessment extends RiskAssessment {
  dataRisks: DataRisk[];
  systemRisks: SystemRisk[];
  businessRisks: BusinessRisk[];
  complianceRisks: ComplianceRisk[];
  operationalRisks: OperationalRisk[];
}

// Data Risk Types
export interface DataRisk {
  type: 'data_loss' | 'privacy_breach' | 'retention_violation' | 'corruption';
  description: string;
  likelihood: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  impact: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  affectedData: string[];
  mitigation: string;
  contingency: string;
}

// System Risk Types
export interface SystemRisk {
  type: 'dependency_failure' | 'integration_break' | 'performance_degradation' | 'rollback_failure';
  description: string;
  likelihood: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  impact: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  affectedSystems: string[];
  mitigation: string;
  contingency: string;
}

// Business Risk Types
export interface BusinessRisk {
  type: 'process_disruption' | 'revenue_loss' | 'customer_impact' | 'reputation_damage';
  description: string;
  likelihood: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  impact: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  affectedProcesses: string[];
  mitigation: string;
  contingency: string;
}

// Compliance Risk Types
export interface ComplianceRisk {
  type: 'regulatory_violation' | 'audit_failure' | 'data_breach' | 'retention_violation';
  description: string;
  likelihood: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  impact: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  regulations: string[];
  mitigation: string;
  contingency: string;
}

// Operational Risk Types
export interface OperationalRisk {
  type: 'resource_shortage' | 'skill_gap' | 'timeline_overrun' | 'budget_overrun';
  description: string;
  likelihood: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  impact: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  mitigation: string;
  contingency: string;
}

// Risk Mitigation Strategy
export interface RiskMitigationStrategy {
  riskId: string;
  strategy: string;
  actions: string[];
  timeline: string;
  cost: number;
  effectiveness: number;
  owner: string;
  monitoring: string[];
  reporting: string;
}

// Extended Risk Assessment Types
export interface DecommissionRiskProfile {
  overallRiskLevel: 'very_low' | 'low' | 'medium' | 'high' | 'very_high' | 'critical';
  riskCategories: DecommissionRiskCategory[];
  mitigationStatus: RiskMitigationStatus;
  contingencyPlans: ContingencyPlan[];
  assessmentDate: string;
  nextReviewDate: string;
  assessedBy: string;
}

export interface DecommissionRiskCategory {
  category: 'data' | 'system' | 'business' | 'compliance' | 'operational';
  riskLevel: 'very_low' | 'low' | 'medium' | 'high' | 'very_high';
  riskCount: number;
  criticalRisks: number;
  mitigatedRisks: number;
  openRisks: number;
  trends: RiskTrend[];
}

export interface RiskTrend {
  metric: 'risk_count' | 'risk_level' | 'mitigation_rate';
  direction: 'increasing' | 'decreasing' | 'stable';
  change: number;
  timeframe: string;
}

export interface RiskMitigationStatus {
  totalRisks: number;
  mitigatedRisks: number;
  openRisks: number;
  newRisks: number;
  mitigationRate: number;
  averageMitigationTime: string;
  overdueMitigations: number;
}

export interface ContingencyPlan {
  id: string;
  riskCategory: string;
  trigger: string;
  actions: ContingencyAction[];
  resources: ContingencyResource[];
  timeline: string;
  owner: string;
  activated: boolean;
  activationDate?: string;
  effectiveness?: number;
}

export interface ContingencyAction {
  id: string;
  action: string;
  type: 'preventive' | 'corrective' | 'recovery';
  priority: 'low' | 'medium' | 'high' | 'critical';
  duration: string;
  resources: string[];
  dependencies: string[];
  success_criteria: string[];
}

export interface ContingencyResource {
  type: 'human' | 'financial' | 'technical' | 'external';
  description: string;
  quantity: number;
  availability: string;
  cost?: number;
  constraints: string[];
}

// Risk Analysis and Reporting
export interface RiskAnalysis {
  riskMatrix: RiskMatrix;
  heatMap: RiskHeatMap;
  trends: RiskTrendAnalysis;
  scenarios: RiskScenario[];
  recommendations: RiskRecommendation[];
}

export interface RiskMatrix {
  dimensions: MatrixDimension[];
  cells: RiskMatrixCell[];
  thresholds: RiskThreshold[];
  distribution: RiskDistribution[];
}

export interface MatrixDimension {
  name: 'likelihood' | 'impact';
  scale: string[];
  weights: number[];
}

export interface RiskMatrixCell {
  likelihood: string;
  impact: string;
  riskLevel: string;
  riskCount: number;
  color: string;
}

export interface RiskThreshold {
  level: 'very_low' | 'low' | 'medium' | 'high' | 'very_high' | 'critical';
  escalation: string[];
  approvalRequired: boolean;
  mitigationRequired: boolean;
  actions: string[];
}

export interface RiskDistribution {
  category: string;
  count: number;
  percentage: number;
  averageLevel: number;
}

export interface RiskHeatMap {
  categories: string[];
  systems: string[];
  riskLevels: number[][];
  hotSpots: HotSpot[];
}

export interface HotSpot {
  category: string;
  system?: string;
  riskLevel: number;
  riskCount: number;
  priority: 'low' | 'medium' | 'high' | 'critical';
}

export interface RiskTrendAnalysis {
  period: string;
  trends: RiskTrend[];
  predictions: RiskPrediction[];
  anomalies: RiskAnomaly[];
}

export interface RiskPrediction {
  metric: string;
  timeframe: string;
  prediction: number;
  confidence: number;
  factors: string[];
}

export interface RiskAnomaly {
  type: string;
  description: string;
  detected: string;
  severity: 'low' | 'medium' | 'high';
  investigation: string;
}

export interface RiskScenario {
  id: string;
  name: string;
  description: string;
  probability: number;
  impact: RiskScenarioImpact;
  mitigations: string[];
  contingencies: string[];
}

export interface RiskScenarioImpact {
  financial: number;
  operational: string;
  reputation: string;
  compliance: string;
  timeline: string;
}

export interface RiskRecommendation {
  id: string;
  type: 'mitigation' | 'contingency' | 'acceptance' | 'transfer';
  priority: 'low' | 'medium' | 'high' | 'critical';
  description: string;
  rationale: string;
  cost: number;
  benefit: string;
  timeline: string;
  resources: string[];
  dependencies: string[];
  success_criteria: string[];
}
