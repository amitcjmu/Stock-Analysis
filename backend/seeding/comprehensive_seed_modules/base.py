#!/usr/bin/env python3
"""
Base Module - Imports, Constants, and Shared Configuration
Generated by CC for comprehensive seed script modularization
"""

import random
import uuid
from typing import List

# Test tenant IDs
TEST_TENANT_1 = uuid.UUID("11111111-1111-1111-1111-111111111111")
TEST_TENANT_2 = uuid.UUID("22222222-2222-2222-2222-222222222222")

# Multi-tenant test data configuration
TENANT_CONFIG = {
    TEST_TENANT_1: {
        "name": "TechCorp Solutions",
        "domain": "techcorp.com",
        "industry": "Technology",
        "size": "Enterprise",
        "users": {
            "admin": uuid.UUID("11111111-0001-0000-0000-000000000001"),
            "manager": uuid.UUID("11111111-0002-0000-0000-000000000002"),
            "analyst": uuid.UUID("11111111-0003-0000-0000-000000000003"),
        },
        "engagement_id": uuid.UUID("11111111-eeee-0000-0000-000000000001"),
    },
    TEST_TENANT_2: {
        "name": "Global Retail Inc",
        "domain": "globalretail.com",
        "industry": "Retail",
        "size": "Large",
        "users": {
            "admin": uuid.UUID("22222222-0001-0000-0000-000000000001"),
            "manager": uuid.UUID("22222222-0002-0000-0000-000000000002"),
            "analyst": uuid.UUID("22222222-0003-0000-0000-000000000003"),
        },
        "engagement_id": uuid.UUID("22222222-eeee-0000-0000-000000000002"),
    },
}

# Sample data patterns for realistic content
AGENT_PATTERNS = [
    {
        "type": "field_mapping_suggestion",
        "patterns": [
            "Server hostname maps to asset_name with 95% confidence",
            "Application ID should map to business_app_id",
            "IP address field contains both IPv4 and IPv6 formats",
            "Department code needs transformation from numeric to text",
        ],
    },
    {
        "type": "risk_pattern",
        "patterns": [
            "Detected 15 servers running unsupported OS versions",
            "Found exposed database ports on public-facing servers",
            "Multiple applications sharing the same service account",
            "Critical systems without documented DR procedures",
        ],
    },
    {
        "type": "optimization_opportunity",
        "patterns": [
            "Consolidate 8 duplicate applications across departments",
            "Migrate 20 underutilized servers to cloud",
            "Implement auto-scaling for variable workload applications",
            "Replace manual processes with automated workflows",
        ],
    },
    {
        "type": "anomaly_detection",
        "patterns": [
            "Unusual spike in data import failures on weekends",
            "Asset count mismatch between CMDB and discovery",
            "Unexpected network dependencies for isolated systems",
            "Abnormal resource utilization patterns detected",
        ],
    },
]

# Sample LLM prompts and responses
LLM_INTERACTIONS = [
    {
        "feature": "field_mapping",
        "prompt": "Map the source field 'srv_hostname' to target schema",
        "response": "Based on analysis, 'srv_hostname' should map to 'asset_name' field",
        "tokens": {"input": 25, "output": 35},
    },
    {
        "feature": "asset_analysis",
        "prompt": "Analyze dependencies for application APP-001",
        "response": "Application APP-001 has 5 direct dependencies and 12 transitive dependencies",
        "tokens": {"input": 30, "output": 45},
    },
    {
        "feature": "risk_assessment",
        "prompt": "Identify security risks in the current infrastructure",
        "response": "Found 3 critical risks: exposed ports, outdated SSL certificates, weak passwords",
        "tokens": {"input": 35, "output": 55},
    },
]


def generate_dummy_embedding() -> List[float]:
    """Generate a normalized dummy embedding vector"""
    vector = [random.gauss(0, 0.5) for _ in range(1536)]
    magnitude = sum(x * x for x in vector) ** 0.5
    if magnitude > 0:
        vector = [x / magnitude for x in vector]
    return vector
