"""
Base classes and types for Data Transformation services

This module contains the foundational types, enums, and data structures used
across the data transformation and normalization system.

Generated by CC (Claude Code)
"""

from dataclasses import dataclass
from enum import Enum
from typing import Any, Dict, List, Optional


class DataType(str, Enum):
    """Standard data types for normalization"""

    SERVER = "server"
    APPLICATION = "application"
    DATABASE = "database"
    NETWORK_DEVICE = "network_device"
    STORAGE = "storage"
    MIDDLEWARE = "middleware"
    CONTAINER = "container"
    SERVICE = "service"
    DEPENDENCY = "dependency"
    CONFIGURATION = "configuration"


class TransformationRule(str, Enum):
    """Transformation rule types"""

    FIELD_MAPPING = "field_mapping"
    VALUE_CONVERSION = "value_conversion"
    FIELD_SPLIT = "field_split"
    FIELD_MERGE = "field_merge"
    REGEX_EXTRACT = "regex_extract"
    CONDITIONAL = "conditional"
    CALCULATION = "calculation"
    LOOKUP = "lookup"


@dataclass
class TransformationResult:
    """Result of a data transformation operation"""

    success: bool
    transformed_data: Optional[Dict[str, Any]] = None
    validation_errors: List[str] = None
    transformation_metadata: Optional[Dict[str, Any]] = None

    def __post_init__(self):
        if self.validation_errors is None:
            self.validation_errors = []
