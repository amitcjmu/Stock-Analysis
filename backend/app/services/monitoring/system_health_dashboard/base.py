"""
Base classes, enums, and data structures for System Health Dashboard

This module contains the foundational types and configurations used across
the system health monitoring dashboard.

Generated by CC (Claude Code)
"""

from dataclasses import dataclass, field
from datetime import datetime
from enum import Enum
from typing import Dict, List


class HealthStatus(str, Enum):
    """System health status levels"""

    EXCELLENT = "excellent"  # 90-100% performance
    GOOD = "good"  # 80-89% performance
    WARNING = "warning"  # 70-79% performance
    CRITICAL = "critical"  # < 70% performance
    UNKNOWN = "unknown"  # Unable to determine


class AlertSeverity(str, Enum):
    """Alert severity levels"""

    INFO = "info"
    WARNING = "warning"
    CRITICAL = "critical"


@dataclass
class HealthScore:
    """Health score calculation for system components"""

    component: str
    score: float  # 0-100
    status: HealthStatus
    factors: Dict[str, float] = field(default_factory=dict)
    recommendations: List[str] = field(default_factory=list)

    @classmethod
    def calculate_status(cls, score: float) -> HealthStatus:
        """Calculate health status from score"""
        if score >= 90:
            return HealthStatus.EXCELLENT
        elif score >= 80:
            return HealthStatus.GOOD
        elif score >= 70:
            return HealthStatus.WARNING
        elif score >= 0:
            return HealthStatus.CRITICAL
        else:
            return HealthStatus.UNKNOWN


@dataclass
class SystemAlert:
    """System performance alert"""

    id: str
    severity: AlertSeverity
    component: str
    metric: str
    current_value: float
    threshold: float
    message: str
    timestamp: datetime
    acknowledged: bool = False
    resolved: bool = False
