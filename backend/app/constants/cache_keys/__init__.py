"""
Cache Keys Module - Backward Compatible Public API

This module preserves the complete public API of the original cache_keys.py file
while providing the modular structure for maintainability.

All existing imports will continue to work without any changes:
- from app.constants.cache_keys import CACHE_VERSION, CacheKeys, etc.

Generated by CC (Claude Code)
"""

# Import all base constants and enums
from .base import (
    CACHE_VERSION,
    CacheKeyType,
    CASCADE_RELATIONSHIPS,
    CACHE_TYPE_PATTERNS,
)

# Import the main patterns class (now modularized)
from .patterns import CacheKeys

# Import utility generators and add them to CacheKeys for backward compatibility
from .generators import CacheKeyGenerators

# Import validation and strategy classes
from .validators import AgentCacheStrategy, SensitiveDataMarkers

# Add utility methods to CacheKeys class for backward compatibility
# This ensures that CacheKeys.method() calls continue to work exactly as before
CacheKeys.generate_pattern_key = staticmethod(CacheKeyGenerators.generate_pattern_key)
CacheKeys.get_cascade_patterns = staticmethod(CacheKeyGenerators.get_cascade_patterns)
CacheKeys.get_cache_type = staticmethod(CacheKeyGenerators.get_cache_type)
CacheKeys.create_hash_key = staticmethod(CacheKeyGenerators.create_hash_key)
CacheKeys.get_ttl_recommendation = staticmethod(
    CacheKeyGenerators.get_ttl_recommendation
)
CacheKeys.agent_result_with_ttl = staticmethod(CacheKeyGenerators.agent_result_with_ttl)

# Export all public symbols exactly as they were in the original file
__all__ = [
    # Base constants and enums
    "CACHE_VERSION",
    "CacheKeyType",
    "CASCADE_RELATIONSHIPS",
    "CACHE_TYPE_PATTERNS",
    # Main cache keys class with all methods
    "CacheKeys",
    # Strategy and validation classes
    "AgentCacheStrategy",
    "SensitiveDataMarkers",
    # Utility generators (for advanced usage)
    "CacheKeyGenerators",
]
