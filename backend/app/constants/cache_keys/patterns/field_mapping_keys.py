"""
Field Mapping Cache Key Patterns

Cache key generation for field mapping operations including mappings,
statistics, and AI-generated suggestions.

Generated by CC (Claude Code)
"""

from .base import BaseCacheKeys, CACHE_VERSION


class FieldMappingCacheKeys(BaseCacheKeys):
    """
    Cache key patterns for field mapping operations.

    Handles field mappings, mapping statistics, and AI-generated
    mapping suggestions during the data import review process.
    """

    @staticmethod
    def field_mappings(import_id: str, client_id: str) -> str:
        """
        Cache key for field mappings of a data import.
        TTL: 2 minutes (changes during review process)
        Invalidation: on mapping approval/rejection, bulk operations
        """
        return f"{CACHE_VERSION}:client:{client_id}:field_mappings:{import_id}"

    @staticmethod
    def field_mapping_stats(import_id: str, client_id: str) -> str:
        """
        Cache key for field mapping statistics (approved/pending/rejected counts).
        TTL: 1 minute
        Invalidation: on any mapping status change
        """
        return f"{CACHE_VERSION}:client:{client_id}:mapping_stats:{import_id}"

    @staticmethod
    def field_mapping_suggestions(import_id: str, client_id: str) -> str:
        """
        Cache key for AI-generated field mapping suggestions.
        TTL: 1 hour (expensive to regenerate)
        Invalidation: on schema changes, manual mapping updates
        """
        return f"{CACHE_VERSION}:client:{client_id}:mapping_suggestions:{import_id}"
