"""
Client and Engagement Cache Key Patterns

Cache key generation for client account and engagement management including
engagements, users, flows, and client settings.

Generated by CC (Claude Code)
"""

from .base import BaseCacheKeys, CACHE_VERSION


class ClientCacheKeys(BaseCacheKeys):
    """
    Cache key patterns for client account and engagement management.

    Handles client engagements, user associations, flow collections,
    and client account settings and preferences.
    """

    @staticmethod
    def client_engagements(client_id: str) -> str:
        """
        Cache key for all engagements within a client account.
        TTL: 30 minutes
        Invalidation: on engagement creation/deletion/updates
        """
        return f"{CACHE_VERSION}:client:{client_id}:engagements"

    @staticmethod
    def client_users(client_id: str) -> str:
        """
        Cache key for all users with access to a client account.
        TTL: 15 minutes
        Invalidation: on user association changes
        """
        return f"{CACHE_VERSION}:client:{client_id}:users"

    @staticmethod
    def client_flows(client_id: str, engagement_id: str) -> str:
        """
        Cache key for all flows within an engagement.
        TTL: 10 minutes
        Invalidation: on flow creation/deletion
        """
        return f"{CACHE_VERSION}:client:{client_id}:engagement:{engagement_id}:flows"

    @staticmethod
    def client_settings(client_id: str) -> str:
        """
        Cache key for client account settings and preferences.
        TTL: 1 hour
        Invalidation: on settings updates
        """
        return f"{CACHE_VERSION}:client:{client_id}:settings"
